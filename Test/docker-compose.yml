version: '3'

services:
  testcafe:
    container_name: testcafe_firefox
    image: testcafe/testcafe
    network_mode: "host"
   ports:
     - '8080:8080'
    environment:
      - NODE_PATH=./node_modules/testcafe/node_modules:/opt
      - SCREEN_WIDTH=1920
      - SCREEN_HEIGHT=1080
    volumes:
    - ./node_modules/dotenv:/node_modules/dotenv
    - ./.env:/.env
    - ./tests:/tests
    - ./pages:/pages
    - ./helpers:/helpers
    entrypoint: ["/opt/testcafe/docker/testcafe-docker.sh", "firefox", "/tests/*.ts", "-e"]
