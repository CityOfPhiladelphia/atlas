version: '3'

services:
  testcafe:
    container_name: testcafe_${BROWSER}
    image: testcafe/testcafe
    environment:
      - NODE_PATH=./node_modules/testcafe/node_modules:/opt
      - SCREEN_WIDTH=1920
      - SCREEN_HEIGHT=1080
    volumes:
    - ./Testcafe:/tests
    - ./screenshots:/screenshots
    - ./reports:/reports
    entrypoint: ["/opt/testcafe/docker/testcafe-docker.sh", "${BROWSER} --no-sandbox", "-S", "-s", "screenshots", "/tests/Tests/*.ts"]