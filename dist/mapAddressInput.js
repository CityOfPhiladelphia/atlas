(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{289:function(t,n,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.a=e}).call(this,e(9))},290:function(t,n,e){"use strict";var i=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},r=e(289),o="object"==typeof self&&self&&self.Object===Object&&self,a=r.a||o||Function("return this")(),s=function(){return a.Date.now()},d=a.Symbol,l=Object.prototype,c=l.hasOwnProperty,u=l.toString,p=d?d.toStringTag:void 0;var h=function(t){var n=c.call(t,p),e=t[p];try{t[p]=void 0;var i=!0}catch(t){}var r=u.call(t);return i&&(n?t[p]=e:delete t[p]),r},m=Object.prototype.toString;var f=function(t){return m.call(t)},v="[object Null]",b="[object Undefined]",g=d?d.toStringTag:void 0;var w=function(t){return null==t?void 0===t?b:v:g&&g in Object(t)?h(t):f(t)};var x=function(t){return null!=t&&"object"==typeof t},y="[object Symbol]";var S=function(t){return"symbol"==typeof t||x(t)&&w(t)==y},C=NaN,$=/^\s+|\s+$/g,E=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,O=/^0o[0-7]+$/i,T=parseInt;var j=function(t){if("number"==typeof t)return t;if(S(t))return C;if(i(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=i(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var e=F.test(t);return e||O.test(t)?T(t.slice(2),e?2:8):E.test(t)?C:+t},k="Expected a function",M=Math.max,I=Math.min;n.a=function(t,n,e){var r,o,a,d,l,c,u=0,p=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError(k);function f(n){var e=r,i=o;return r=o=void 0,u=n,d=t.apply(i,e)}function v(t){var e=t-c;return void 0===c||e>=n||e<0||h&&t-u>=a}function b(){var t=s();if(v(t))return g(t);l=setTimeout(b,function(t){var e=n-(t-c);return h?I(e,a-(t-u)):e}(t))}function g(t){return l=void 0,m&&r?f(t):(r=o=void 0,d)}function w(){var t=s(),e=v(t);if(r=arguments,o=this,c=t,e){if(void 0===l)return function(t){return u=t,l=setTimeout(b,n),p?f(t):d}(c);if(h)return l=setTimeout(b,n),f(c)}return void 0===l&&(l=setTimeout(b,n)),d}return n=j(n)||0,i(e)&&(p=!!e.leading,a=(h="maxWait"in e)?M(j(e.maxWait)||0,n):a,m="trailing"in e?!!e.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=o=l=void 0},w.flush=function(){return void 0===l?d:g(s())},w}},317:function(t,n,e){var i=e(408);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(12)(i,r);i.locals&&(t.exports=i.locals)},407:function(t,n,e){"use strict";var i=e(317);e.n(i).a},408:function(t,n,e){(t.exports=e(11)(!1)).push([t.i,"\n.pvm-search-control-form[data-v-3fdac0f0] {\r\n  display: inline-block;\n}\r\n\r\n/* Container */\n.pvm-search-control-container[data-v-3fdac0f0] {\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  width: 305px;\n}\n.pvm-container-non-mobile[data-v-3fdac0f0] {\r\n  height: 48px;\n}\n.pvm-container-mobile[data-v-3fdac0f0] {\r\n  height: 38px;\n}\r\n\r\n\r\n/* Input */\n.pvm-search-control-input[data-v-3fdac0f0] {\r\n  display: inline-block;\r\n  border: 0;\r\n  padding: 15px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 16px;\r\n  width: 250px;\n}\n.pvm-input-non-mobile[data-v-3fdac0f0] {\r\n  height: 48px;\n}\n.pvm-input-mobile[data-v-3fdac0f0] {\r\n  height: 38px;\n}\r\n\r\n\r\n/* Button */\n.pvm-search-control-button[data-v-3fdac0f0] {\r\n  display: inline-block;\r\n  color: #fff;\r\n  background: #2176d2;\r\n  padding: 0px;\r\n  width: 50px;\n}\n.pvm-button-non-mobile[data-v-3fdac0f0] {\r\n  height: 48px;\r\n  line-height: 48px;\n}\n.pvm-button-mobile[data-v-3fdac0f0] {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding-top: 1px;\n}\r\n\r\n\r\n",""])},486:function(t,n,e){"use strict";e.r(n);var i=e(0),r=e(290),o=e(18),a=e.n(o);var s=function(){return"id-"+Math.random().toString(36).substring(7)},d={name:"MapAddressInput",props:["position","widthFromConfig","placeholder"],data:()=>({containerStyle:{width:"305px"},inputStyle:{width:"250px"},inputID:s(),addressEntered:null}),created(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered(t){this.handleWindowResize()}},computed:{map(){return this.$store.state.map.map},inputWidth(){return""===this.addressEntered||null===this.addressEntered?this.$props.widthFromConfig-55:this.$props.widthFromConfig-108},inputClass(){return this.isMobileOrTablet?"pvm-input-mobile":"pvm-input-non-mobile"},containerClass(){return this.isMobileOrTablet?"pvm-container-mobile":"pvm-container-non-mobile"},buttonClass(){return this.isMobileOrTablet?"pvm-button-mobile":"pvm-button-non-mobile"},addressAutocompleteEnabled(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},isMobileOrTablet(){return this.$store.state.isMobileOrTablet}},methods:{createLeafletElement(t){return new class extends t.Control{constructor(t,n){super(n),this.el=t}onAdd(){const n=this.el;return t.DomEvent.disableClickPropagation(n),t.DomEvent.disableScrollPropagation(n),n}}(this.$el,{position:this.position})},parentMounted(t,n){const e=this.createLeafletElement(i);this.$leafletElement=e;const r=this.map;e.addTo(r)},didType:Object(r.a)(function(t){const{value:n}=t.target;if(this.$data.addressEntered=n,this.addressAutocompleteEnabled){if("ArrowDown"===t.key)return void document.getElementById("address-candidate-list-0").focus();this.getCandidates(n),"Enter"!==t.key&&this.$store.commit("setShouldShowAddressCandidateList",!0)}},300),getCandidates(t){a.a.get("https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/",{params:{address:t}}).then(this.didGetCandidates).catch(this.didGetCandidatesError)},didGetCandidates(t){const{matches:n}=t.data,e=n.map(t=>t.address);this.$store.commit("setCandidates",e)},didGetCandidatesError(t){console.log("error getting candidates",t),this.$store.commit("setCandidates",[])},handleFormX(){console.log("handleFormX is running"),this.$data.addressEntered="",this.$store.commit("setShouldShowAddressCandidateList",!1),this.$store.commit("setCandidates",[])},handleSearchFormSubmit(){let t;console.log("handleSearchFormSubmit is running"),t=this.addressAutocompleteEnabled?addressEntered:document.querySelector("#"+this.$data.inputID.toString()).value,this.$controller.handleSearchFormSubmit(t)},handleWindowResize(){const t=this.addressEntered;window.innerWidth>=850?(this.containerStyle.width=this.$props.widthFromConfig+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-55+"px":this.$props.widthFromConfig-108+"px"):window.innerWidth>=750?(this.containerStyle.width=this.$props.widthFromConfig-100+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-155+"px":this.$props.widthFromConfig-208+"px"):(this.containerStyle.width="300px",this.inputStyle.width=""===t||null===t?"245px":"192px")}}},l=(e(407),e(47)),c=Object(l.a)(d,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:"pvm-search-control-container "+this.containerClass,style:this.containerStyle},[e("form",{staticClass:"pvm-search-control-form",attrs:{autocomplete:"off",id:"search-form"},on:{submit:function(n){return n.preventDefault(),t.handleSearchFormSubmit(n)}}},[e("input",{class:"pvm-search-control-input "+this.inputClass,style:this.inputStyle,attrs:{id:t.inputID,placeholder:this.$props.placeholder||"Search the map",tabindex:"0"},domProps:{value:this.addressEntered},on:{keyup:t.didType}})]),t._v(" "),""!=this.addressEntered&&null!=this.addressEntered?e("button",{class:"pvm-search-control-button "+this.buttonClass,on:{click:t.handleFormX}},[e("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),t._v(" "),e("button",{class:"pvm-search-control-button "+this.buttonClass,attrs:{name:"pvm-search-control-button",tabindex:"-1"},on:{click:this.handleSearchFormSubmit}},[e("font-awesome-icon",{attrs:{icon:"search"}})],1),t._v(" "),t._t("address-candidates-slot")],2)},[],!1,null,"3fdac0f0",null);n.default=c.exports}}]);