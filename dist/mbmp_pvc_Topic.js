(window.webpackJsonp=window.webpackJsonp||[]).push([[17,2,48],{262:function(n,t,e){var o=e(277);"string"==typeof o&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e(17)(o,s);o.locals&&(n.exports=o.locals)},263:function(n,t,e){var o=e(279);"string"==typeof o&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e(17)(o,s);o.locals&&(n.exports=o.locals)},264:function(n,t,e){"use strict";e.r(t);var o=e(265),s={name:"TopicComponentGroup",props:["topicComponents","item","filterData"],components:{Badge:()=>e.e(32).then(e.bind(null,473)),ButtonComp:()=>e.e(34).then(e.bind(null,474)),Callout:()=>e.e(35).then(e.bind(null,475)),CollectionSummary:()=>e.e(36).then(e.bind(null,476)),Division:()=>e.e(37).then(e.bind(null,477)),ePayForm:()=>e.e(51).then(e.bind(null,469)),ExternalLink:()=>e.e(30).then(e.bind(null,275)),HorizontalTable:()=>Promise.all([e.e(3),e.e(38)]).then(e.bind(null,490)),Image_:()=>e.e(40).then(e.bind(null,459)),VerticalTable:()=>e.e(50).then(e.bind(null,487)),OverlayToggleGroup:()=>e.e(42).then(e.bind(null,488)),Paragraph:()=>e.e(43).then(e.bind(null,497)),SpanComp:()=>e.e(46).then(e.bind(null,496)),List:()=>e.e(41).then(e.bind(null,495)),HorizontalTableGroup:()=>e.e(39).then(e.bind(null,494)),PopoverLink:()=>e.e(45).then(e.bind(null,348)),Popover:()=>e.e(44).then(e.bind(null,458)),TabGroup:()=>e.e(47).then(e.bind(null,491)),BadgeCustom:()=>e.e(33).then(e.bind(null,480)),Topic:()=>e.e(48).then(e.bind(null,325)),TopicSet:()=>e.e(49).then(e.bind(null,492)),AnyHeader:()=>e.e(31).then(e.bind(null,493))},beforeCreate(){},data:()=>({key:Object(o.a)()}),methods:{getCompKey:(n,t)=>`topic-comp-${n}-${t}`}},i=(e(276),e(37)),a=Object(i.a)(s,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",n._l(n.topicComponents,function(t,o){return e(t.type,{key:n.getCompKey(n.key,o),tag:"component",staticClass:"topic-component",attrs:{slots:t.slots,options:t.options,item:n.item}})}),1)},[],!1,null,"40463c7c",null);t.default=a.exports},265:function(n,t,e){"use strict";t.a=function(){return"id-"+Math.random().toString(36).substring(7)}},276:function(n,t,e){"use strict";var o=e(262);e.n(o).a},277:function(n,t,e){(n.exports=e(16)(!1)).push([n.i,"\n.topic-component[data-v-40463c7c] {\n  /* margin-bottom: 10px !important; */\n}\n",""])},278:function(n,t,e){"use strict";var o=e(263);e.n(o).a},279:function(n,t,e){(n.exports=e(16)(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*REVIEW these aren't prefixed `mb-`because they're scoped, but it feels\ninconsistent?*/\n.topic-header[data-v-511f037c] {\n  background: #f5f5f5;\n  border: 1px solid #ddd;\n  display: block;\n  font-size: 18px;\n  font-weight: normal;\n  min-height: 70px;\n  line-height: 25px;\n  padding: 10px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n  margin-bottom: 8px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: space-between;\n}\n.topic-header[data-v-511f037c]:hover {\n  background: #fff;\n  color: inherit;\n}\n.topic-header-content[data-v-511f037c] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.topic-header-icon[data-v-511f037c] {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.topic-header-label-holder[data-v-511f037c] {\n  margin-left: 15px;\n}\n.topic-body[data-v-511f037c] {\n  padding: 5px;\n  margin-bottom: 10px;\n}\n.topic-body-enter-active[data-v-511f037c], .topic-body-leave-active[data-v-511f037c] {\n  transition: opacity 0.18s;\n}\n.topic-body-enter[data-v-511f037c], .topic-body-leave-to[data-v-511f037c] {\n  opacity: 0;\n}\n",""])},325:function(n,t,e){"use strict";e.r(t);var o=e(264),s={name:"Topic",props:["topicKey"],components:{},beforeCreate(){this.$options.components.TopicComponentGroup=o.default},computed:{topic(){const n=this.$props.topicKey,t=this.$config.topics.filter(n=>n.key===this.$props.topicKey);if(1!==t.length)throw`Could not get single config object for topic '${n}'.`;return t[0]},icon(){return this.topic.icon},isActive(){const n=this.topic.key;return this.$store.state.activeTopic===n},shouldShowHeader(){return this.$config.topics.length>1},dataSources(){return this.topic.dataSources||[]},hasData(){return this.dataSources.every(n=>{if(this.$config.dataSources[n].targets){const t=this.$store.state.sources[n].targets,e=Object.values(t);return 0!==e.length&&e.every(n=>"waiting"!==n.status)}return!!this.$store.state.sources[n].data})},shouldShowBody(){const n="success"===this.status,t=this.hasData;return n&&t&&this.isActive},shouldShowTopic(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError(){const n=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return n&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",n,"status:",this.status,"hasData:",this.hasData),n},errorMessage(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get(){const n=this.topic.dataSources||[];if(0===n.length)return"success";let t;const e=n.map(n=>{if(this.$config.dataSources[n].targets){const t=this.$store.state.sources[n].targets,e=Object.values(t);if(0===e.length)return;return e.map(n=>n.status)}return[this.$store.state.sources[n].status]});let o=[];for(let n of e)if(n)for(let t of n)o.push(t);return t=o.includes("waiting")?"waiting":o.includes("error")?"error":"success"}},showTopicBasedOnOtherData(){if(!this.topic.showTopicBasedOnOtherData)return!1;const n=this.topic.showTopicBasedOnOtherData.requiredData;if(!this.checkForData(n))return!1;const t=Object.keys(this.topic.showTopicBasedOnOtherData.otherData);let e=[];for(let n of t){const t=this.topic.showTopicBasedOnOtherData.otherData[n],o=Object.keys(t);for(let s of o)this.$store.state.sources[n][s]===t[s]?e.push(!0):e.push(!1)}return!e.includes(!1)},showTopicOnlyIfDataExists(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},methods:{checkForData(n){const t=Object.keys(n);let e=!0;for(let o of t){const t=n[o].pathToDataArray,s=n[o].minDataLength;let i;if(!this.$store.state.sources[o].data)return!1;t?1===t.length&&(i=this.$store.state.sources[o].data[t[0]]):i=this.$store.state.sources[o].data,i.length<s&&(e=!1)}return e},configForBasemap(n){return this.$config.map.basemaps[n]},handleTopicHeaderClick(n){const t=this.$props.topicKey;let e;t!==this.$store.state.activeTopic&&(e=t),this.$controller.handleTopicHeaderClick(e)}}},i=(e(278),e(37)),a=Object(i.a)(s,function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.shouldShowTopic?e("div",[n.shouldShowHeader?e("a",{staticClass:"topic-header",attrs:{href:"#","data-topic-key":n.topicKey},on:{click:function(t){return t.preventDefault(),n.handleTopicHeaderClick(t)}}},[e("div",{staticClass:"topic-header-content"},[e("font-awesome-icon",{attrs:{icon:n.icon}}),n._v(" "),e("div",{staticClass:"topic-header-label-holder"},[n._v("\n        "+n._s(n.topic.label)+"\n      ")])],1),n._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===n.status,expression:"status === 'waiting'"}],staticClass:"loading"},[e("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):n._e(),n._v(" "),e("transition",{attrs:{name:"topic-body"}},[n.shouldShowBody?e("div",{staticClass:"topic-body",attrs:{"data-topic-key":n.topicKey}},[e("topic-component-group",{attrs:{"topic-components":n.topic.components}})],1):n._e()]),n._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:n.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:n._s(this.errorMessage)}})],1):n._e()},[],!1,null,"511f037c",null);t.default=a.exports}}]);