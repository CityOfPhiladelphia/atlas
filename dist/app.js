!function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],n[i]&&d.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={2:0},a=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([598,1,0]),r()}({216:function(e,t,r){"use strict";r.r(t);var o=r(211),n=r(210),a=r(209),i=r(208),s=r(207),c=r(206),l=r(205),u=r(204),p=r(203),d=r(202),h=r(30),f=r.n(h),g=(r(592),r(5)),m=r.n(g),y=r(201),v=r.n(y),b={GATEKEEPER_KEY:"82fe014b6575b8c38b44235580bc8b11",ZONING_CODE_MAP:{"RSD-1":"Residential Single Family Detached-1","RSD-2":"Residential Single Family Detached-2","RSD-3":"Residential Single Family Detached-3","RSA-1":"Residential Single Family Attached-1","RSA-2":"Residential Single Family Attached-2","RSA-3":"Residential Single Family Attached-3","RSA-4":"Residential Single Family Attached-4","RSA-5":"Residential Single Family Attached-5","RTA-1":"Residential Two-Family Attached-1","RM-1":"Residential Multi-Family-1","RM-2":"Residential Multi-Family-2","RM-3":"Residential Multi-Family-3","RM-4":"Residential Multi-Family-4","RMX-1":"Residential Mixed-Use-1","RMX-2":"Residential Mixed-Use-2","RMX-3":"Residential (Center City) Mixed-Use-3","CA-1":"Auto-Oriented Commercial-1","CA-2":"Auto-Oriented Commercial-2","CMX-1":"Neighborhood Commercial Mixed-Use-1","CMX-2":"Neighborhood Commercial Mixed-Use-2","CMX-2.5":"Neighborhood Commercial Mixed-Use-2.5","CMX-3":"Community Commercial Mixed-Use","CMX-4":"Center City Commercial Mixed-Use","CMX-5":"Center City Core Commercial Mixed-Use","I-1":"Light Industrial","I-2":"Medium Industrial","I-3":"Heavy Industrial",IP:"Port Industrial",ICMX:"Industrial Commercial Mixed-Use",IRMX:"Industrial Residential Mixed-Use",SPENT:"Commercial Entertainment (Casinos)",SPAIR:"Airport",SPINS:"Institutional Development",SPSTA:"Stadium",SPPOA:"Recreation","SP-PO-A":"Recreation",SPPOP:"Recreation"},cleanDorAttribute:function(e){var t=e?String(e):"";return t=t.replace(/\s+/g,""),[null,"0"].indexOf(t)>-1?"":t},concatDorAddress:function(e,t){t=!!t;var r=e.properties,o=this.cleanDorAttribute(r.HOUSE),n=this.cleanDorAttribute(r.STEX),a=this.cleanDorAttribute(r.SUF),i=o;i+=n?"-"+n:"",i+=a||"";var s=this.cleanDorAttribute(r.UNIT);s&&(s="# "+s);var c=["STDIR","STNAM","STDES","STDESSUF"].map(function(e){return r[e]});return c=c.map(this.cleanDorAttribute),c=[i].concat(c),t&&(c=c.concat([s])),""===(i=c.filter(Boolean).join(" "))&&(i="Parcel has no address"),i},getVacancyText:function(e){var t=e.sources.vacantLand.data,r=e.sources.vacantBuilding.data;return 0===t.length&&0===r.length?"Not Likely Vacant":t.length>0?"Likely Vacant Land":r.length>0?"Likely Vacant Building":void 0}};f.a.settings.currency.precision=0;var w={bold:{transform:function(e){return"<strong>"+e+"</strong>"}},booleanToYesNo:{transform:function(e){return e?"Yes":"No"}},thousandsPlace:{transform:function(e){return String(e).match(/\d+/)[0].replace(/(.)(?=(\d{3})+$)/g,"$1,")+" "+(String(e).replace(/[0-9]/g,"")||"")}},currency:{globals:["accounting"],transform:function(e,t){return f.a.formatMoney(e)}},date:{globals:["moment"],transform:function(e,t){return m()(e).format("MM/DD/YYYY")}},dayofweek:{transform:function(e){switch(e){case"FRI":e="Friday";break;case"SAT":e="Saturday";break;case"SUN":e="Sunday";break;case"MON":e="Monday";break;case"TUE":e="Tuesday";break;case"WED":e="Wednesday";break;case"THU":e="Thursday"}return e}},feet:{transform:function(e){return e&&e+" ft"}},getNearest:{transform:function(e,t,r){var o=Math.min.apply(null,e.sources[t].data.map(function(e){return e[r]})),n=e.sources[t].data.filter(function(e){return e[r]==o});return n?n[0]:null}},integer:{transform:function(e){return!isNaN(e)&&parseInt(e)}},nowrap:{transform:function(e){return'<span style="white-space: nowrap;">'+e+"</span>"}},nth:{transform:function(e){return e+([,"st","nd","rd"][e%100>>3^1&&e%10]||"th")}},phoneNumber:{transform:function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null}},prettyNumber:{transform:function(e){return!isNaN(e)&&e.toLocaleString()}},rcoPrimaryContact:{transform:function(e){var t=/\(?(\d{3})\)?( |-)?(\d{3})(-| )?(\d{4})/g.exec(e);if(!t)return e;var r=["(",t[1],") ",t[3],"-",t[5]].join(""),o=t[0];return e.replace(o,r)}},squareFeet:{transform:function(e){return e&&e+" sq ft"}},titleCase:{transform:function(e){return(e=e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}},urlFormatter:{transform:function(e){var t=["http//","http://","https://","www.","//","//:"].join("|");return e.replace(new RegExp(t,"gi"),"")}}},S={id:"condoList",type:"http-get",url:"//api.phila.gov/ais/v1/search/",options:{params:{urlAddition:function(e){return e.properties.street_address},gatekeeperKey:b.GATEKEEPER_KEY,include_units:!0,opa_only:!0,page:1},success:function(e){return e}}},_={id:"dorDocuments",type:"http-get",targets:{get:function(e){return e.parcels.dor.data},getTargetId:function(e){return e.properties.OBJECTID}},url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/RTT_SUMMARY/FeatureServer/0/query",options:{params:{where:function(e,t){var r=b.concatDorAddress(e),o=t.geocode.data.properties;if(r&&"null"!==r){var n=t.geocode.data.properties,a=n.address_low,i=100*Math.floor(a/100,1),s=a-i,c=n.address_high||a;p="(((ADDRESS_LOW >= "+a+" AND ADDRESS_LOW <= "+c+") OR (ADDRESS_LOW >= "+i+" AND ADDRESS_LOW <= "+c+" AND ADDRESS_HIGH >= "+s+" )) AND STREET_NAME = '"+o.street_name+"' AND STREET_SUFFIX = '"+o.street_suffix+"' AND (MOD(ADDRESS_LOW,2) = MOD( "+a+",2))";""!=o.street_predir&&(p+=" AND STREET_PREDIR = '"+o.street_predir+"'"),""!=o.address_low_suffix&&(p+=" AND ADDRESS_LOW_SUFFIX = '"+o.address_low_suffix+"'"),"1/2"===o.address_low_frac&&(p+=" AND ADDRESS_LOW_SUFFIX = '2'"),""!=o.street_postdir&&(p+=" AND STREET_POSTDIR = '"+o.street_postdir+"'");var l=b.cleanDorAttribute(e.properties.UNIT),u=o.unit_num;l?p+=" AND UNIT_NUM = '"+l+"'":""!==u&&(p+=" AND UNIT_NUM = '"+u+"'"),p+=") or MATCHED_REGMAP = '"+t.parcels.dor.data[0].properties.BASEREG+"'",p+=" or REG_MAP_ID = '"+t.parcels.dor.data[0].properties.BASEREG+"'"}else var p="MATCHED_REGMAP = '"+t.parcels.dor.data[0].properties.BASEREG+"'";return p},outFields:"DOCUMENT_ID, DISPLAY_DATE, DOCUMENT_TYPE, GRANTORS, GRANTEES",returnDistinctValues:"true",returnGeometry:"false",f:"json",sqlFormat:"standard"},success:function(e){return e.features}}},A={id:"regmaps",type:"esri",url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/MASTERMAPINDEX/FeatureServer/0",deps:["parcels.dor"],options:{relationship:"intersects",targetGeometry:function(e,t){var r=[],o=[];e.parcels.dor.data.forEach(function(e){e.geometry.coordinates.forEach(function(e){e.forEach(function(e){if(Array.isArray(e[0]))e.forEach(function(e){var t=e[0],n=e[1];r.push(t),o.push(n)});else{var t=e[0],n=e[1];r.push(t),o.push(n)}})})});var n=Math.min.apply(null,r),a=Math.max.apply(null,r),i=Math.min.apply(null,o),s=Math.max.apply(null,o);return[n,a,i,s].every(function(e){return e})?t.latLngBounds([[i,n],[s,a]]):null}},success:function(e){return e}},E={key:"condos",icon:"building",label:"Condominiums",dataSources:["condoList"],showTopicBasedOnOtherData:{otherData:{opa:{data:void 0}},requiredData:{condoList:{pathToDataArray:["features"],minDataLength:1}}},showTopicOnlyIfDataExists:{condoList:{pathToDataArray:["features"],minDataLength:2}},components:[{type:"callout",slots:{text:"Condominium units at your search address, as recorded for property assessment purposes. Click one of the addresses below to see information for that unit.  Use the back button to return to this list. Source: Office of Property Assessment"}},{type:"horizontal-table",options:{id:"condoList",useApiCount:!0,defaultIncrement:25,fields:[{label:"Address",value:function(e,t){var r=t.properties.street_address;return'<a href="#/'+r+'/property">'+r+"</a>"}},{label:"OPA Account #",value:function(e,t){return t.properties.opa_account_num}}]},slots:{title:"Condominiums",highestPageRetrieved:function(e){return e.sources.condoList.data.page},pageCount:function(e){return e.sources.condoList.data.page_count},totalSize:function(e){return e.sources.condoList.data.total_size},items:function(e){return e.sources.condoList.data.features.map(function(e){return e})}}}],identifyFeature:"address-marker",parcels:"pwd"},D={key:"deeds",icon:"book",label:"Deeds",dataSources:["dorDocuments"],components:[{type:"callout",slots:{text:"          Deed information and document transactions for this address.          The map faithfully reflects property boundaries as described in           recorded deeds including multiple types of easements.          The property boundaries displayed on the map are for reference           only and should not be used in place of the recorded deeds or           land surveys. Source: Department of Records        "}},{type:"collection-summary",options:{descriptor:"parcel",getValue:function(e){return e.properties.STATUS},context:{singular:function(e){return"There is "+e+" at this address."},plural:function(e){return"There are "+e+" at this address."}},types:[{value:1,label:"active parcel"},{value:2,label:"inactive parcel"},{value:3,label:"remainder parcel"}]},slots:{items:function(e){return e.parcels.dor.data}}},{type:"tab-group",options:{getKey:function(e){return e.properties.OBJECTID},getTitle:function(e){return e.properties.MAPREG},getAddress:function(e){return b.concatDorAddress(e)},components:[{type:"vertical-table",options:{nullValue:"None"},slots:{title:"Parcel Details",fields:[{label:"Map Registry #",value:function(e,t){return t.properties.MAPREG}},{label:"Parcel Address",value:function(e,t){return b.concatDorAddress(t)}},{label:"Status",value:function(e,t){var r;switch(t.properties.STATUS){case 1:r="Active";break;case 2:r="Inactive";break;case 3:r="Remainder"}return r}},{label:"Origination Date",value:function(e,t){return t.properties.ORIG_DATE},transforms:["date"]},{label:"Inactive Date",value:function(e,t){return t.properties.INACTDATE},transforms:["date"]},{label:"Has Air Rights",value:function(e,t){return"A"===t.properties.SUFFIX?"Yes":"No"}},{label:"Is Condo",value:function(e,t){return t.properties.CONDOFLAG?"Yes":"No"}},{label:"Perimeter",value:function(e,t){return(t.properties||{}).TURF_PERIMETER},transforms:["integer","prettyNumber","feet"]},{label:"Area",value:function(e,t){return(t.properties||{}).TURF_AREA},transforms:["integer","prettyNumber","squareFeet"]}]}},{type:"horizontal-table",options:{id:"dorCondoList",defaultIncrement:10,showAllRowsOnFirstClick:!0,showOnlyIfData:!0,fields:[{label:"Condo Parcel",value:function(e,t){return t.recmap+"-"+t.condoparcel}},{label:"Condo Name",value:function(e,t){return t.condo_name}},{label:"Unit #",value:function(e,t){return"Unit #"+t.condounit}}],sort:{getValue:function(e){return e.condounit},order:"asc"}},slots:{title:"Deeded Condominiums",items:function(e,t){var r=t.properties.OBJECTID;return e.sources.dorCondoList.targets[r]?e.sources.dorCondoList.targets[r].data?e.sources.dorCondoList.targets[r].data.rows:void 0:[]}}},{type:"callout",slots:{text:'You can access digital copies of the deeds                 below by purchasing a subscription to                 <a target="_blank" href="http://epay.phila-records.com/phillyepay/web/">PhilaDox <i class="fa fa-external-link"></i></a></a>.                Please note that the following list                shows documents recorded from                December 1999 forward, and may not be a complete history                of title for the parcel.              '}},{type:"horizontal-table",options:{id:"dorDocuments",defaultIncrement:25,fields:[{label:"ID",value:function(e,t){return t.attributes.DOCUMENT_ID}},{label:"Date",value:function(e,t){return t.attributes.DISPLAY_DATE},nullValue:"no date available",transforms:["date"]},{label:"Type",value:function(e,t){return t.attributes.DOCUMENT_TYPE}},{label:"Grantor",value:function(e,t){return t.attributes.GRANTORS}},{label:"Grantee",value:function(e,t){return t.attributes.GRANTEES}}],sort:{getValue:function(e){return e.attributes.DISPLAY_DATE},order:"desc"}},slots:{title:"Documents",items:function(e,t){var r=t.properties.OBJECTID;return e.sources.dorDocuments.targets[r]?e.sources.dorDocuments.targets[r].data:[]}}}]},slots:{items:function(e){return e.parcels.dor.data}}},{type:"callout",slots:{text:"          Use the buttons below to view images of hard-copy deed maps, some          of which have handwritten information that may be useful for          historical deed research.        "}},{type:"overlay-toggle-group",options:{getKey:function(e){return e.properties.RECMAP}},slots:{title:"Registry Maps",items:function(e){return e.sources.regmaps.data}}}],identifyFeature:"dor-parcel",parcels:"dor",imageOverlayGroup:"regmaps"},I={key:"li",icon:"wrench",label:"Licenses & Inspections",dataSources:["liPermits","liInspections","liViolations","liBusinessLicenses","zoningDocs"],components:[{type:"callout",slots:{text:"          Licenses, inspections, permits, property maintenance           violations, and zoning permit documents at your search address.           Source: Department of Licenses & Inspections        "}},{type:"horizontal-table",options:{id:"liPermits",limit:5,fields:[{label:"Date",value:function(e,t){return t.permitissuedate},nullValue:"no date available",transforms:["date"]},{label:"ID",value:function(e,t){return"<a target='_blank' href='http://li.phila.gov/#details?entity=permits&eid="+t.permitnumber+"&key="+t.addresskey+"&address="+t.address+"'>"+t.permitnumber+" <i class='fa fa-external-link'></i></a>"}},{label:"Description",value:function(e,t){return t.permitdescription}},{label:"Status",value:function(e,t){return t.status}}],sort:{getValue:function(e){return e.permitissuedate},order:"desc"},externalLink:{action:function(e){return"See "+e+" older permits at L&I Property History"},name:"L&I Property History",href:function(e){var t=e.geocode.data.properties.street_address;return"http://li.phila.gov/#summary?address="+encodeURIComponent(t)}}},slots:{title:"Permits",items:function(e){return e.sources.liPermits.data.rows.map(function(e){return e})}}},{type:"horizontal-table",options:{topicKey:"zoning",id:"zoningDocs",fields:[{label:"Date",value:function(e,t){return t.scan_date},nullValue:"no date available",transforms:["date"]},{label:"Permit Number",value:function(e,t){return t.permit_number}},{label:"# Pages",value:function(e,t){return t.num_pages}},{label:"ID",value:function(e,t){var r=t.app_id;return r.length<3&&(r="0"+r),'<a target="_blank" href="//s3.amazonaws.com/lni-zoning-pdfs/'+t.doc_id+'.pdf">'+t.doc_id+' <i class="fa fa-external-link"></i></a></a>'}}],sort:{getValue:function(e){return e.scan_date},order:"desc"}},slots:{title:"Zoning Permit Documents",subtitle:'formerly "Zoning Archive"',items:function(e){if(e.sources.zoningDocs.data&&e.sources.zoningDocs.data.rows)return e.sources.zoningDocs.data.rows.map(function(e){return e})}}},{type:"horizontal-table",options:{topicKey:"permits",id:"liInspections",limit:5,fields:[{label:"Date",value:function(e,t){return t.inspectioncompleted},nullValue:"no date available",transforms:["date"]},{label:"ID",value:function(e,t){return"<a target='_blank' href='http://li.phila.gov/#details?entity=violationdetails&eid="+t.casenumber+"&key="+t.addresskey+"&address="+t.address+"'>"+t.casenumber+" <i class='fa fa-external-link'></i></a>"}},{label:"Description",value:function(e,t){return t.inspectiondescription}},{label:"Status",value:function(e,t){return t.inspectionstatus}}],sort:{getValue:function(e){return e.inspectioncompleted},order:"desc"},externalLink:{action:function(e){return"See "+e+" older inspections at L&I Property History"},name:"L&I Property History",href:function(e){var t=e.geocode.data.properties.street_address;return"http://li.phila.gov/#summary?address="+encodeURIComponent(t)}}},slots:{title:"Inspections",items:function(e){return e.sources.liInspections.data.rows.map(function(e){return e})}}},{type:"horizontal-table",options:{id:"liViolations",limit:5,fields:[{label:"Date",value:function(e,t){return t.caseaddeddate},nullValue:"no date available",transforms:["date"]},{label:"ID",value:function(e,t){return"<a target='_blank' href='http://li.phila.gov/#details?entity=violationdetails&eid="+t.casenumber+"&key="+t.addresskey+"&address="+t.address+"'>"+t.casenumber+" <i class='fa fa-external-link'></i></a>"}},{label:"Description",value:function(e,t){return t.violationdescription}},{label:"Status",value:function(e,t){return t.status}}],sort:{getValue:function(e){return e.caseaddeddate},order:"desc"},externalLink:{action:function(e){return"See "+e+" older violations at L&I Property History"},name:"L&I Property History",href:function(e){var t=e.geocode.data.properties.street_address;return"http://li.phila.gov/#summary?address="+encodeURIComponent(t)}}},slots:{title:"Violations",items:function(e){return e.sources.liViolations.data.rows.map(function(e){return e})}}},{type:"horizontal-table",options:{id:"liBusinessLicenses",limit:5,fields:[{label:"Issue Date",value:function(e,t){return t.initialissuedate},transforms:["date"]},{label:"License Number",value:function(e,t){return"<a target='_blank' href='http://li.phila.gov/#details?entity=licenses&eid="+t.licensenum+"&key="+t.street_address+"&address="+t.street_address+"'>"+t.licensenum+" <i class='fa fa-external-link'></i></a>"}},{label:"Name",value:function(e,t){return t.business_name}},{label:"Type",value:function(e,t){return t.licensetype}},{label:"Status",value:function(e,t){return t.licensestatus}}],sort:{getValue:function(e){return e.caseaddeddate},order:"desc"},externalLink:{action:function(e){return"See "+e+" older business licenses at L&I Property History"},name:"L&I Property History",href:function(e){var t=e.geocode.data.properties.street_address;return"http://li.phila.gov/#summary?address="+encodeURIComponent(t)}}},slots:{title:"Business Licenses",items:function(e){return e.sources.liBusinessLicenses.data.rows.map(function(e){return e})}}}],dynamicMapLayers:[],identifyFeature:"address-marker",parcels:"pwd"},T={key:"zoning",icon:"university",label:"Zoning",dataSources:["zoningOverlay","zoningBase","zoningAppeals","rco"],components:[{type:"callout",slots:{text:"Base district zoning maps, associated zoning overlays, and Registered Community Organizations applicable to your search address. Source: Department of Planning and Development"}},{type:"collection-summary",options:{descriptor:"parcel",getValue:function(e){return e.properties.STATUS},context:{singular:function(e){return"There is "+e+" at this address."},plural:function(e){return"There are "+e+" at this address."}},types:[{value:1,label:"active parcel"},{value:2,label:"inactive parcel"},{value:3,label:"remainder parcel"}]},slots:{items:function(e){return e.parcels.dor.data}}},{type:"tab-group",options:{getKey:function(e){return e.properties.OBJECTID},getTitle:function(e){return e.properties.MAPREG},getAddress:function(e){return hf.concatDorAddress(e)},components:[{type:"badge-custom",options:{titleBackground:"#58c04d",components:[{type:"horizontal-table",options:{topicKey:"zoning",shouldShowFilters:!1,shouldShowHeaders:!1,id:"baseZoning",fields:[{label:"Code",value:function(e,t){return t},transforms:["nowrap","bold"]},{label:"Description",value:function(e,t){return b.ZONING_CODE_MAP[t]}}]},slots:{items:function(e,t){var r=t.properties.OBJECTID,o=(e.sources.zoningBase.targets[r]||{}).data,n=(void 0===o?{}:o).rows,a=(void 0===n?[]:n).map(function(e){return e.long_code}),i=new Set(a);return Array.from(i)}}}]},slots:{title:"Base District"}},{type:"horizontal-table",options:{topicKey:"zoning",id:"zoningOverlay",fields:[{label:"Name",value:function(e,t){return t.overlay_name}},{label:"Code Section",value:function(e,t){return"<a target='_blank' href='"+t.code_section_link+"'>"+t.code_section+" <i class='fa fa-external-link'></i></a>"}}]},slots:{title:"Overlays",items:function(e,t){var r=t.properties.OBJECTID;return((e.sources.zoningOverlay.targets[r]||{}).data||{}).rows||[]}}},{type:"horizontal-table",options:{topicKey:"zoning",id:"baseZoning",fields:[{label:"Bill Type",value:function(e,t){return t.billType}},{label:"Current Zoning",value:function(e,t){return t.currentZoning}},{label:"Pending Bill",value:function(e,t){return'<a target="_blank" href="'.concat(t.pendingbillurl,'">').concat(t.pendingbill,' <i class="fa fa-external-link"></i></a>')}}]},slots:{title:"Pending Bills",items:function(e,t){var r=t.properties.OBJECTID,o=((e.sources.zoningBase.targets[r]||{}).data||{}).rows,n=(void 0===o?[]:o).filter(function(e){return"Yes"===e.pending}).map(function(e){return e.billType="Base District",e.currentZoning=e.long_code,e}),a=[];e.sources.zoningOverlay.targets[r]?a=e.sources.zoningOverlay.targets[r].data.rows.filter(function(e){return"Yes"===e.pending}).map(function(e){return e.billType="Overlay",e.currentZoning=e.overlay_name,e}):a=[];return n.concat(a)}}}]},slots:{items:function(e){return e.parcels.dor.data}}},{type:"horizontal-table",options:{id:"zoningAppeals",fields:[{label:"Processed Date",value:function(e,t){return t.processeddate},transforms:["date"]},{label:"ID",value:function(e,t){return"<a target='_blank' href='http://li.phila.gov/#details?entity=appeals&eid="+t.appeal_key+"&key="+t.addresskey+"&address="+t.address+"'>"+t.appealno+"<i class='fa fa-external-link'></i></a>"}},{label:"Description",value:function(e,t){return t.appealgrounds}},{label:"Scheduled Date",value:function(e,t){return t.date_scheduled},transforms:["date"]},{label:"Status",value:function(e,t){return t.decision}}],sort:{getValue:function(e){return e.date_scheduled},order:"desc"}},slots:{title:"Appeals",items:function(e){if(e.sources.zoningAppeals.data&&e.sources.zoningAppeals.data.rows)return e.sources.zoningAppeals.data.rows.map(function(e){return e})}}},{type:"callout",slots:{text:'Looking for zoning documents? They are now located in the Licenses & Inspections tab under "Zoning Permit Documents".'}},{type:"horizontal-table",options:{id:"rco",fields:[{label:"RCO",value:function(e,t){return"<b>"+t.properties.ORGANIZATION_NAME+"</b><br>"+t.properties.ORGANIZATION_ADDRESS}},{label:"Meeting Address",value:function(e,t){return t.properties.MEETING_LOCATION_ADDRESS}},{label:"Primary Contact",value:function(e,t){return t.properties.PRIMARY_NAME+"<br>"+t.properties.PRIMARY_PHONE+"<br>"+t.properties.PRIMARY_EMAIL},transforms:["rcoPrimaryContact"]},{label:"Preferred Method",value:function(e,t){return t.properties.PREFFERED_CONTACT_METHOD}}],externalLink:{forceShow:!0,action:function(){return"See a list of all RCOs in the city [PDF]"},name:"",href:function(e){return"//www.phila.gov/CityPlanning/projectreviews/RCO%20Related/List_of_RCOs.pdf"}}},slots:{title:"Registered Community Organizations",items:function(e){if(e.sources.rco.data)return e.sources.rco.data.map(function(e){return e})}}}],dynamicMapLayers:["zoning"],identifyFeature:"dor-parcel",parcels:"dor"},P={key:"nearby",icon:"map-marker-alt",label:"Nearby",dataSources:["threeOneOneCarto","crimeIncidents","nearbyZoningAppeals"],identifyFeature:"address-marker",parcels:"pwd",components:[{type:"callout",slots:{text:"          See recent activity near your search address including 311           service requests, crimes, zoning appeals, and more. Hover over a          record below to highlight it on the map.        "}},{type:"horizontal-table-group",options:{filters:[{type:"data",getValue:function(e){return e},label:"What nearby activity would you like to see?",values:[{label:"311 Requests",value:"311"},{label:"Crime Incidents",value:"crimeIncidents"},{label:"Zoning Appeals",value:"nearbyZoningAppeals"},{label:"Vacant Properties",value:"vacantIndicatorsPoints"}]}],tables:[{type:"horizontal-table",options:{id:"311",sort:{select:!0,sortFields:["distance","date"],getValue:function(e,t){var r;return"date"!==t&&t?"distance"===t&&(r=e.distance):r=e.requested_datetime,r},order:function(e){return"date"===e?"desc":"asc"}},filters:[{type:"time",getValue:function(e){return e.requested_datetime},label:"From the last",values:[{label:"30 days",value:"30",unit:"days",direction:"subtract"},{label:"90 days",value:"90",unit:"days",direction:"subtract"},{label:"year",value:"1",unit:"years",direction:"subtract"}]}],filterByText:{label:"Filter by text",fields:["service_name","address"]},mapOverlay:{marker:"circle",style:{radius:6,fillColor:"#ff3f3f",color:"#ff0000",weight:1,opacity:1,fillOpacity:1},hoverStyle:{radius:6,fillColor:"yellow",color:"#ff0000",weight:1,opacity:1,fillOpacity:1}},fields:[{label:"Date",value:function(e,t){return t.requested_datetime},nullValue:"no date available",transforms:["date"]},{label:"Address",value:function(e,t){return t.address}},{label:"Subject",value:function(e,t){return t.media_url?'<a target="_blank" href='+t.media_url+">"+t.service_name+"</a>":t.service_name}},{label:"Distance",value:function(e,t){return parseInt(t.distance)+" ft"}}]},slots:{title:"Nearby Service Requests",data:"threeOneOneCarto",items:function(e){return(e.sources.threeOneOneCarto.data||[]).map(function(e){return e})}}},{type:"horizontal-table",options:{id:"crimeIncidents",sort:{select:!0,sortFields:["distance","date"],getValue:function(e,t){var r;return"date"!==t&&t?"distance"===t&&(r=e.distance):r=e.dispatch_date,r},order:function(e){return"date"===e?"desc":"asc"}},filters:[{type:"time",getValue:function(e){return e.dispatch_date},label:"From the last",values:[{label:"30 days",value:"30",unit:"days",direction:"subtract"},{label:"90 days",value:"90",unit:"days",direction:"subtract"}]}],filterByText:{label:"Filter by",fields:["text_general_code"]},mapOverlay:{marker:"circle",style:{radius:6,fillColor:"#6674df",color:"#6674df",weight:1,opacity:1,fillOpacity:1},hoverStyle:{radius:6,fillColor:"yellow",color:"#6674df",weight:1,opacity:1,fillOpacity:1}},fields:[{label:"Date",value:function(e,t){return t.dispatch_date},nullValue:"no date available",transforms:["date"]},{label:"Location",value:function(e,t){return t.location_block}},{label:"Description",value:function(e,t){return t.text_general_code}},{label:"Distance",value:function(e,t){return parseInt(t.distance)+" ft"}}]},slots:{title:"Crime Incidents",data:"crimeIncidents",items:function(e){return(e.sources.crimeIncidents.data||[]).map(function(e){return e})}}},{type:"horizontal-table",options:{id:"nearbyZoningAppeals",sort:{select:!0,sortFields:["distance","date"],getValue:function(e,t){var r;return"date"!==t&&t?"distance"===t&&(r=e.distance):r=e.decisiondate,r},order:function(e){return"date"===e?"desc":"asc"}},filterByText:{label:"Filter by",fields:["appealgrounds"]},mapOverlay:{marker:"circle",style:{radius:6,fillColor:"#009900",color:"#009900",weight:1,opacity:1,fillOpacity:1},hoverStyle:{radius:6,fillColor:"yellow",color:"#009900",weight:1,opacity:1,fillOpacity:1}},fields:[{label:"Date",value:function(e,t){return t.decisiondate},nullValue:"no date available",transforms:["date"]},{label:"Location",value:function(e,t){return t.address}},{label:"Description",value:function(e,t){return t.appealgrounds}},{label:"Distance",value:function(e,t){return parseInt(t.distance)+" ft"}}]},slots:{title:"Zoning Appeals",data:"nearbyZoningAppeals",items:function(e){return(e.sources.nearbyZoningAppeals.data||[]).map(function(e){return e})}}},{type:"horizontal-table",options:{id:"vacantIndicatorsPoints",sort:{select:!0,sortFields:["distance","type"],getValue:function(e,t){var r;return"type"!==t&&t?"distance"===t&&(r=e._distance):r=e.properties.VACANT_FLAG,r}},filterByText:{label:"Filter by",fields:["ADDRESS","VACANT_FLAG"]},mapOverlay:{marker:"circle",style:{radius:6,fillColor:"#9400c6",color:"#9400c6",weight:1,opacity:1,fillOpacity:1},hoverStyle:{radius:6,fillColor:"yellow",color:"#009900",weight:1,opacity:1,fillOpacity:1}},fields:[{label:"Address",value:function(e,t){return t.properties.ADDRESS}},{label:"Property Type",value:function(e,t){return t.properties.VACANT_FLAG}},{label:"Distance",value:function(e,t){return t._distance+" ft"}}],externalLink:{forceShow:!0,action:function(e){return"See more at Vacancy Property Viewer"},name:"Vacancy Property Viewer",href:function(e){return"//phl.maps.arcgis.com/apps/webappviewer/index.html?id=64ac160773d04952bc17ad895cc00680"}}},slots:{title:"Likely Vacant Properties",data:"vacantIndicatorsPoints",items:function(e){return(e.sources.vacantIndicatorsPoints.data||[]).map(function(e){return e})}}}]},slots:{items:function(e){return e.parcel.pwd}}}]},R=function(e){return(e=e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},C={key:"historic",icon:"scroll-old",label:"Historic",dataSources:["histDistrict","histLegalCards","histDesignated","historicNearby"],components:[{type:"callout",slots:{text:"Results indicate likely status of historic designation for this property. <br>               Please contact the Historical Commision before taking any action. <br><br>                Phone: (215) 686-7660 <br> Mon-Fri, 8:30 a.m. to 4:00 p.m."}},{type:"callout",slots:{text:"The Philadelphia Historical Commission identifies and designates historic resources, listing them on                the Philadelphia Register of Historic Places, and inventory that currently includes more than 22,000               properties and 15 historic districts. <br>                Source: Philadelphia Historical Commission, Department of Planning, Streets Department."}},{type:"vertical-table",options:{nullValue:"None",externalLink:{action:function(){return"Learn more about owning a property on the historic register."},href:function(e){return"//www.phila.gov/historical/designation/Pages/FAQ.aspx"}}},slots:{fields:[{label:"Historic Designation",value:function(e){return e.sources.histDesignated.data&&e.sources.histDesignated.data.length>0?null!=e.sources.histDesignated.data[0].properties.DDESIGDATE?"Designated: "+e.sources.histDesignated.data[0].properties.DDESIGDATE:null!=e.sources.histDesignated.data[0].properties.IDESIGDATE1?"Designated: "+e.sources.histDesignated.data[0].properties.IDESIGDATE1:null!=e.sources.histDesignated.data[0].properties.IDESIGDATE2?"Designated: "+e.sources.histDesignated.data[0].properties.IDESIGDATE2:"Not date available":"Not designated as historic."}},{label:"Building Age",value:function(e){return e.sources.opa.data?("Y"===e.sources.opa.data.year_built_estimate?" (estimated)":"","0000"===e.sources.opa.data.year_built_estimate?"No date available.":e.sources.opa.data.year_built):"No date available."}},{label:"Building Description",value:function(e){return e.sources.opa.data?R(e.sources.opa.data.building_code_description):"No description available."}},{label:"Historic District",value:function(e){return e.sources.histDistrict.data?e.sources.histDistrict.data.length>0?e.sources.histDistrict.data[0].properties.NAME+"<br>Designated - "+m()(e.sources.histDistrict.data[0].properties.DESIGNATED1).format("MMM Do, YYYY")+"<br><b><a href='https://www.phila.gov/historical/register/Pages/districts.aspx' target='_blank'>                        View a complete inventory of historic districts.</a></b>":"This property is not within a historic district.                  <br><b><a href='https://www.phila.gov/historical/register/Pages/districts.aspx' target='_blank'>                  View a complete inventory of historic districts.</a></b>":"This property is not within a historic district.                <br><b><a href='https://www.phila.gov/historical/register/Pages/districts.aspx' target='_blank'>                View a complete inventory of historic districts.</a></b>"}},{label:"Conservation District",value:function(e){return e.sources.neighConservation.data?e.sources.neighConservation.data.length>0?"<a href="+e.sources.neighConservation.data[0].properties.CODE_SECTION_LINK+' target="_blank">Yes - Click for more Info</a>':"<a href='https://www.phila.gov/CityPlanning/resources/Publications/Conservation%20districts%20fact%20sheet.pdf' target='_blank'>This property is not within a conservation district.</a>":"This property is not within a conservation district."}}]}},{type:"callout",slots:{text:"Historic streets identify older streets with historical value and include information                such as construction materials used. Legal cards are a collection of cards containing                the official record of the legal description and drawings of city streets.               <br>Source: Streets Department."}},{type:"vertical-table",slots:{title:"Historic Street Details",fields:[{label:"Historic Street",value:function(e){return e.sources.historicStreets.data?R(e.sources.historicStreets.data.ON_STREET)+" - "+R(e.sources.historicStreets.data.PRIMARYROA):"Street not designated as historic."}},{label:"Legal Card of City Street",value:function(e){return e.sources.histLegalCards.data?"<a href='"+e.sources.histLegalCards.data.LINK+"' target='_blank'>                View Image of Legal Card</a>":"Legal card not available."}}]}},{type:"horizontal-table",options:{fields:[{label:"Designated",value:function(e,t){return null!=t.properties.DDESIGDATE?t.properties.DDESIGDATE:null!=t.properties.IDESIGDATE1?t.properties.IDESIGDATE1:null!=t.properties.IDESIGDATE2?t.properties.IDESIGDATE2:"Not Available"}},{label:"Address",value:function(e,t){return t.properties.LOC}},{label:"Distance",value:function(e,t){return parseInt(t._distance)+" ft"}}],sort:{getValue:function(e){return e._distance},order:"asc"},externalLink:{forceShow:!0,action:function(){return"See a full map of all properties and districts from the Philadelphia Register of Historic Places."},name:"",href:function(e){return"//phl.maps.arcgis.com/apps/View/index.html?appid=0a0b23447b6b4f7097d59c580b9045fe"}}},slots:{title:"Nearby Historic Places",data:"historicNearby",items:function(e){return(e.sources.historicNearby.data||[]).map(function(e){return e})}}},{type:"callout",slots:{text:'Know a spot that seems historically important that isn\'t listed? Learn about the         <a href="//www.phila.gov/historical/designation/Pages/criteria.aspx" target="_blank">criteria        </a> for designating properties as historic and how to         <a href="//www.phila.gov/historical/designation/Pages/process.aspx" target="_blank">nominate        </a> a property for historic designation. The federal <a href="//www.nps.gov/nr/" target="_blank">        National Registry</a> designates historic places worthy of preservation independently from the         Philadelphia Register and each confers different protections. Finally, you can learn more         about the Mayor\'s Historic Preservation        <a href="http://phl.maps.arcgis.com/apps/Cascade/index.html?appid=925708a09f264efd94932dd9300921bd"         target="_blank">Task Force</a> created in May 2017.'}}],basemap:"pwd",imagery:"historic1910",identifyFeature:"address-marker",parcels:"pwd"},O=w.phoneNumber.transform,M=w.titleCase.transform,L=w.nth.transform,k={key:"voting",icon:"gavel",label:"Voting",dataSources:["divisions","pollingPlaces","electedOfficials","nextElectionAPI"],errorMessage:function(){return" "},components:[{type:"badge",options:{titleBackground:"#2176d2",externalLink:{data:"Preview ballot",href:function(e){return"https://files.philadelphiavotes.com/ballot_paper/"+e.sources.electedOfficials.data.rows[0].ballot_file_id+".pdf"}}},slots:{title:"Next Eligible Election Is",value:function(e){return m()(e.sources.nextElectionAPI.data.election_date).format("dddd, LL")}}},{type:"callout",slots:{text:'          The deadline to register for the next election           is 30 days prior to the election.           You can confirm your registration and learn about           registering to vote<a target="_blank"           href="//www.philadelphiavotes.com/en/voters/registering-to-vote">           here <i class="fa fa-external-link"></i></a>.        '}},{type:"vertical-table",options:{nullValue:"None",externalLink:{action:function(){return"Learn about your voting options if you cannot vote in person on Election Day"},href:function(e){return"https://www.philadelphiavotes.com/en/voters/absentee-and-alternative-ballots"}}},slots:{title:"Polling Place",fields:[{label:"Location",value:function(e){var t=e.sources.pollingPlaces.data;return"<b>Ward "+t.WARD+", Division "+t.DIVISION+"</b><br>"+M(t.PLACENAME)+"<br>"+M(t.STREET_ADDRESS)+"<br>                   All locations are open on Election Day <br>from 7am to 8pm."}},{label:"Accessibility",value:function(e){var t=e.sources.pollingPlaces.data;return'<a href="//www.philadelphiavotes.com/en/voters/polling-place-accessibility"                      target="_blank">'+("F"==t.ACCESSIBILITY_CODE?"Building Fully Accessible":"B"==t.ACCESSIBILITY_CODE?"Building Substantially Accessible":"M"==t.ACCESSIBILITY_CODE?"Building Accessibility Modified":"A"==t.ACCESSIBILITY_CODE?"Alternate Entrance":"R"==t.ACCESSIBILITY_CODE?"Building Accessible With Ramp":"N"==t.ACCESSIBILITY_CODE?"Building Not Accessible":"Information not available")+' <i class="fa fa-external-link"></i></a>'}},{label:"Parking",value:function(e){var t=e.sources.pollingPlaces.data;return"N"==t.PARKING_CODE?"No Parking":"G"==t.PARKING_CODE?"General Parking":"L"==t.PARKING_CODE?"Loading Zone":"Information not available"}}]}},{type:"vertical-table",options:{nullValue:"None",externalLink:{action:function(){return"See all citywide, state, and federal representatives"},href:function(e){return"//www.philadelphiavotes.com/en/voters/elected-officials"}}},slots:{title:"Elected Representatives",fields:[{label:"District Council Member",value:function(e){var t=e.sources.electedOfficials.data.rows.filter(function(e){return"City Council"==e.office_label});return'<a href="'+t[0].website+'" target="_blank">'+t[0].first_name+" "+t[0].last_name+" - "+L(e.geocode.data.properties.council_district_2016)+" Council District                 <i class='fa fa-external-link'></i></a>"}},{label:"City Hall Office",value:function(e){var t=e.sources.electedOfficials.data.rows.filter(function(e){return"City Council"==e.office_label});return t[0].main_contact_address_2+"<br>"+O(t[0].main_contact_phone_1)+", "+O(t[0].main_contact_phone_2)+"<br>                      F: "+O(t[0].main_contact_fax)+' <br>                      <b><a href=mailto:"'+t[0].email+'">'+t[0].email+"</a></b>"}},{label:"Current Term",value:function(e){var t=e.sources.electedOfficials.data.rows.filter(function(e){return"City Council"==e.office_label});return t[0].next_election-4+" - "+t[0].next_election}}]}}],zoomToShape:["geojsonForTopic","markersForTopic"],geojsonForTopic:{data:function(e){return e.sources.divisions.data},key:"id",style:{fillColor:"#9e9ac8",color:"#9e9ac8",weight:2,opacity:1,fillOpacity:.3}},markersForTopic:{data:function(e){return e.sources.pollingPlaces.data},lat:"LAT",lng:"LON",key:"STREET_ADDRESS",color:"#54278f",icon:{prefix:"fas",icon:"landmark",shadow:!1,size:35}},basemap:"pwd",identifyFeature:"address-marker",parcels:"pwd"};r(241),r(236),r(234);o.a.add(n.faHome,a.faBook,s.faWrench,c.faUniversity,l.faGavel,u.faMapMarkerAlt,p.faLandmark,d.faBuilding,i.faScrollOld);var F=location.hostname,x=void 0===F?"":F;"localhost"===x||x.match(/(\d+\.){3}\d+/)||(console.log=console.info=console.debug=console.error=function(){});f.a.settings.currency.precision=0,v()({panels:["topics","map"],router:{enabled:!0},defaultAddressTextPlaceholder:{wideStyle:{"max-width":"100%","font-size":"24px","line-height":"28px"},narrowStyle:{"max-width":"100%","font-size":"20px","line-height":"24px"}},geolocation:{enabled:!0},addressInput:{width:415,mapWidth:300,position:"right",autocompleteEnabled:!1,autocompleteMax:15,placeholder:"Search the map"},rootStyle:{position:"absolute",bottom:0,left:0,right:0},gatekeeperKey:b.GATEKEEPER_KEY,map:{defaultBasemap:"pwd",defaultIdentifyFeature:"address-marker",imagery:{enabled:!0},initialImagery:"imagery2018"},baseConfig:"https://cdn.jsdelivr.net/gh/ajrothwell/mapboard-base-config@d18a86feb27b7e7c4496ed422ce30b5d80e64c1b/config.js",parcels:{pwd:{multipleAllowed:!1,geocodeFailAttemptParcel:null,clearStateOnError:!1,wipeOutOtherParcelsOnReverseGeocodeOnly:!0,geocodeField:"PARCELID",parcelIdInGeocoder:"pwd_parcel_id",getByLatLngIfIdFails:!1},dor:{multipleAllowed:!0,geocodeFailAttemptParcel:"pwd",clearStateOnError:!0,wipeOutOtherParcelsOnReverseGeocodeOnly:!1,geocodeField:"MAPREG",parcelIdInGeocoder:"dor_parcel_id",getByLatLngIfIdFails:!0}},imageOverlayGroups:{regmaps:{items:function(e){return e.sources.regmaps.data}}},legendControls:{water:{options:{topics:["water"],showWithBaseMapOnly:!1},data:{Roof:{"background-color":"#FEFF7F"},"Other Impervious Surface":{"background-color":"#F2DCFF"}}},deeds:{options:{topics:["deeds","zoning"],showWithBaseMapOnly:!0},data:{Easements:{"border-color":"rgb(255, 0, 197)","border-style":"solid","border-weight":"1px",width:"12px",height:"12px","font-size":"10px"},"Trans Parcels":{"border-color":"rgb(0, 168, 132)","border-style":"solid","border-weight":"1px",width:"12px",height:"12px","font-size":"10px"},"Rights of Way":{"border-color":"rgb(249, 147, 0)","border-style":"solid","border-weight":"1px",width:"12px",height:"12px","font-size":"10px"}}}},cyclomedia:{enabled:!0,measurementAllowed:!1,popoutAble:!0},pictometry:{enabled:!0},transforms:w,greeting:{message:'    <h2>Atlas is your front door to the City of Philadelphia.</h2>    <p>Here are some things you can do with Atlas:</p>    <div class="callout">      <ul>        <li>Get the history of permits, licenses, and inspections at any address</li>        <li>Research real estate information including property values, zoning, and document archives</li>        <li>Get easy access to a variety of hard-to-find City resources</li>        <li>View recent activity around your address, such as crimes, 311 service requests, and more</li>        <li>Explore historical imagery and maps</li>      </ul>    </div>    <p>To get started, click anywhere on the map, or type an address, intersection, property assessment account number, or Department of Records Map Registry number into the search box.</p>  '},dataSources:{threeOneOneCarto:{id:"threeOneOneCarto",type:"http-get-nearby",url:"https://phl.carto.com/api/v2/sql",options:{table:"public_cases_fc",dateMinNum:1,dateMinType:"year",dateField:"requested_datetime"}},condoList:S,crimeIncidents:{id:"crimeIncidents",type:"http-get-nearby",url:"https://phl.carto.com/api/v2/sql",options:{table:"incidents_part1_part2",dateMinNum:1,dateMinType:"year",dateField:"dispatch_date"}},divisions:{id:"divisions",url:"https://services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/Political_Divisions/FeatureServer/0",type:"esri",options:{relationship:"contains"},success:function(e){return e}},dorCondoList:{id:"dorCondoList",type:"http-get",targets:{get:function(e){return e.parcels.dor.data},getTargetId:function(e){return e.properties.OBJECTID}},url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e,t){return"select * from condominium where mapref = '"+t.parcels.dor.data[0].properties.MAPREG+"'                                          and status in (1,3)"}}}},dorDocuments:_,electedOfficials:{id:"electedOfficials",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"WITH split AS (SELECT * FROM splits WHERE precinct = '"+e.properties.election_precinct+"')                 SELECT eo.*, s.ballot_file_id                FROM elected_officials eo, split s                 WHERE eo.office = 'city_council' AND eo.district = s.city_district                            OR eo.office = 'state_house' AND eo.district = s.state_house                            OR eo.office = 'state_senate' AND eo.district = s.state_senate                            OR eo.office = 'us_house' AND eo.district = s.federal_house                 "}}}},liBusinessLicenses:{id:"liBusinessLicenses",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"select * from li_business_licenses where eclipse_addressobjectid = '"+e.properties.eclipse_location_id+"'"}}}},histDesignated:{id:"histDesignated",url:"http://services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/Historic_sites_PhilReg/FeatureServer/0",type:"esri",options:{relationship:"contains"}},histDistrict:{id:"histDistrict",url:"https://services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/HistoricDistricts_Local/FeatureServer/0",type:"esri",options:{relationship:"contains"}},histLegalCards:{id:"histLegalCards",type:"http-get",url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/Legal_Cards/FeatureServer/0/query",options:{params:{where:function(e){return"SEG_ID = '"+e.properties.seg_id+"'"},outFields:"OBJECTID, LINK, ST_NAME, IMAGE_, MODDATE, STATUS, SEG_ID",returnDistinctValues:"true",returnGeometry:"false",f:"json"},success:function(e){return e.features[0]?e.features[0].attributes:null}}},historicNearby:{id:"historicNearby",type:"esri-nearby",url:"https://services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/Historic_sites_PhilReg/FeatureServer/0/query",options:{geometryServerUrl:"https://gis-utils.databridge.phila.gov/arcgis/rest/services/Utilities/Geometry/GeometryServer",calculateDistance:!0,distances:660,limit:10}},historicStreets:{id:"historicStreets",type:"http-get",url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/Historic_Streets/FeatureServer/0/query",options:{params:{where:function(e){return"SEG_ID = '"+e.properties.seg_id+"'"},outFields:"PRIMARYROA, RESPONSIBL, SEG_ID, ON_STREET, CLASS",returnDistinctValues:"true",returnGeometry:"false",f:"json"},success:function(e){return e.features[0]?e.features[0].attributes:null}}},liInspections:{id:"liInspections",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"select * from li_case_inspections where address = '"+e.properties.street_address+"' or addresskey = '"+e.properties.li_address_key.toString()+"'"}}}},liPermits:{id:"liPermits",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"select * from li_permits where address = '"+e.properties.street_address+"' or addresskey = '"+e.properties.li_address_key.toString()+"'"}}}},liViolations:{id:"liViolations",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"select * from li_violations where address = '"+e.properties.street_address+"' or addresskey = '"+e.properties.li_address_key.toString()+"'"}}}},nearbyZoningAppeals:{id:"nearbyZoningAppeals",type:"http-get-nearby",url:"https://phl.carto.com/api/v2/sql",options:{table:"li_appeals",dateMinNum:1,dateMinType:"year",dateField:"decisiondate"}},neighConservation:{id:"neighConservation",type:"esri",url:"https://services.arcgis.com/fLeGjb7u4uXqeF9q/ArcGIS/rest/services/Zoning_Overlays/FeatureServer/0",options:{relationship:"contains",where:"OVERLAY_NAME LIKE '%Neighborhood Conservation%'"}},nextElectionAPI:{id:"nextElectionAPI",type:"http-get",url:"https://apis.philadelphiavotes.com/election",options:{},success:function(e){return e}},opa:{id:"opa",type:"http-get",url:"https://data.phila.gov/resource/w7rb-qrn8.json",options:{params:{parcel_number:function(e){return e.properties.opa_account_num?e.properties.opa_account_num:e.properties.BRT_ID}},success:function(e){return e[0]}}},pollingPlaces:{id:"pollingPlaces",type:"http-get",url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/POLLING_PLACES/FeatureServer/0/query",options:{params:{where:function(e){return"PRECINCT = '"+e.properties.election_precinct+"'"},outFields:"WARD, DIVISION, PRECINCT, PLACENAME,                 STREET_ADDRESS, ZIP_CODE, ACCESSIBILITY_CODE, PARKING_CODE,                 LAT, LON",returnDistinctValues:"true",returnGeometry:"false",f:"json"},success:function(e){return e.features[0]?e.features[0].attributes:null}}},rco:{id:"rco",type:"esri",url:"//services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/Zoning_RCO/FeatureServer/0",options:{relationship:"contains"}},regmaps:A,vacantIndicatorsPoints:{id:"vacantIndicatorsPoints",type:"esri-nearby",url:"https://services.arcgis.com/fLeGjb7u4uXqeF9q/arcgis/rest/services/Vacant_Indicators_Points/FeatureServer/0",options:{geometryServerUrl:"https://gis-utils.databridge.phila.gov/arcgis/rest/services/Utilities/Geometry/GeometryServer",calculateDistance:!0,distances:500}},zoningAppeals:{id:"zoningAppeals",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){var t="select * from li_appeals where address = '"+e.properties.street_address+"'",r=e.properties.li_address_key;return r&&r.length>0&&(t+=" or addresskey = '"+e.properties.li_address_key.toString()+"'"),t}}}},zoningBase:{id:"zoningBase",type:"http-get",dependent:"parcel",targets:{get:function(e){return e.parcels.dor.data},getTargetId:function(e){return e.properties.OBJECTID}},url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e,t){return"              WITH all_zoning AS                 (                   SELECT *                   FROM   phl.zoning_basedistricts                 ),               parcel AS                 (                   SELECT *                   FROM   phl.dor_parcel                   WHERE  dor_parcel.mapreg = '"+e.properties.MAPREG+"'                 ),               zp AS                 (                   SELECT all_zoning.*                   FROM   all_zoning, parcel                   WHERE  St_intersects(parcel.the_geom, all_zoning.the_geom)                 ),               combine AS                 (                   SELECT zp.objectid,                   zp.long_code,                   zp.pending,                   zp.pendingbill,                   zp.pendingbillurl,                   St_area(St_intersection(zp.the_geom, parcel.the_geom)) / St_area(parcel.the_geom) AS overlap_area                   FROM zp, parcel                 ),               total AS                 (                   SELECT long_code, pending, pendingbill, pendingbillurl, sum(overlap_area) as sum_overlap_area                   FROM combine                   GROUP BY long_code, pending, pendingbill, pendingbillurl                 )               SELECT *               FROM total               WHERE sum_overlap_area >= 0.01             "}}}},zoningDocs:{id:"zoningDocs",type:"http-get",url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e){return"select * from ais_zoning_documents where doc_id = ANY('{"+e.properties.zoning_document_ids+"}'::text[])"}}}},zoningOverlay:{id:"zoningOverlay",type:"http-get",dependent:"parcel",targets:{get:function(e){return e.parcels.dor.data},getTargetId:function(e){return e.properties.OBJECTID}},url:"https://phl.carto.com/api/v2/sql",options:{params:{q:function(e,t){return"            WITH all_zoning AS               (                 SELECT *                 FROM   phl.zoning_overlays               ),             parcel AS               (                 SELECT *                 FROM   phl.dor_parcel                 WHERE  dor_parcel.mapreg = '"+e.properties.MAPREG+"'               ),             zp AS               (                 SELECT all_zoning.*                 FROM all_zoning, parcel                 WHERE st_intersects(parcel.the_geom, all_zoning.the_geom)               ),             total AS               (                 SELECT zp.*, st_area(St_intersection(zp.the_geom, parcel.the_geom)) / st_area(parcel.the_geom) AS overlap_area                 FROM   zp, parcel               )             SELECT cartodb_id,                   code_section,                   code_section_link,                   objectid,                   overlap_area,                   overlay_name,                   overlay_symbol,                   pending,                   pendingbill,                   pendingbillurl,                   sunset_date,                   type             FROM total             WHERE overlap_area >= 0.01           "}}}}},topics:[{key:"property",icon:"home",label:"Property Assessments",dataSources:["opa"],components:[{type:"callout",slots:{text:"          Property assessment and sale information for this address. Source: Office of Property Assessments (OPA). OPA was formerly a part of the Bureau of Revision of Taxes (BRT) and some City records may still use that name.        "}},{type:"vertical-table",slots:{fields:[{label:"OPA Account #",value:function(e){return e.geocode.data.properties.opa_account_num}},{label:"OPA Address",value:function(e){return e.geocode.data.properties.opa_address}},{label:"Owners",value:function(e){return e.geocode.data.properties.opa_owners.join(", ")}},{label:"Assessed Value",value:function(e){var t=e.sources.opa.data;return t?t.market_value:"no data"},transforms:["currency"]},{label:"Sale Date",value:function(e){var t=e.sources.opa.data;return t?t.sale_date:"no data"},transforms:["date"]},{label:"Sale Price",value:function(e){var t=e.sources.opa.data;return t?t.sale_price:"no data"},transforms:["currency"]}]},options:{id:"opaData",externalLink:{action:function(e){return"See more"},name:"Property Search",href:function(e){return"http://property.phila.gov/?p="+e.geocode.data.properties.opa_account_num}}}}],identifyFeature:"address-marker",parcels:"pwd",errorMessage:function(e){var t=e.sources.condoList.data;if(!t)return"There is no property assessment record for this address.";var r=t.total_size;if(r>0){var o=r>1;return["<h3>","There ",o?"are":"is"," ",r," condominium ",o?"units":"unit"," at this address.</h3>","<p>You can use the Condominiums tab below to see information for an individual unit.</p>"].join("")}}},E,D,I,T,C,k,P],components:[{type:"topic-set",options:{defaultTopic:"property"}}]})},418:function(e,t){},570:function(e,t,r){(function(e){!function(e,o){o(t,r(569),r(550),r(218),r(1),r(215),r(447))}(0,function(t,r,o,n,a,i,s){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,s=s&&s.hasOwnProperty("default")?s.default:s;
/*! https://mths.be/punycode v1.4.1 by @mathias */
var c=2147483647,l=36,u=1,p=26,d=38,h=700,f=72,g=128,m="-",y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,S=Math.floor,_=String.fromCharCode;function A(e){throw new RangeError(b[e])}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function D(e,t,r){var o=0;for(e=r?S(e/h):e>>1,e+=S(e/t);e>w*p>>1;o+=l)e=S(e/w);return S(o+(w+1)*e/(e+d))}function I(e){return function(e,t){var r=e.split("@"),o="";r.length>1&&(o=r[0]+"@",e=r[1]);var n=function(e,t){for(var r=e.length,o=[];r--;)o[r]=t(e[r]);return o}((e=e.replace(v,".")).split("."),t).join(".");return o+n}(e,function(e){return y.test(e)?"xn--"+function(e){var t,r,o,n,a,i,s,d,h,y,v,b,w,I,T,P=[];for(b=(e=function(e){for(var t,r,o=[],n=0,a=e.length;n<a;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<a?56320==(64512&(r=e.charCodeAt(n++)))?o.push(((1023&t)<<10)+(1023&r)+65536):(o.push(t),n--):o.push(t);return o}(e)).length,t=g,r=0,a=f,i=0;i<b;++i)(v=e[i])<128&&P.push(_(v));for(o=n=P.length,n&&P.push(m);o<b;){for(s=c,i=0;i<b;++i)(v=e[i])>=t&&v<s&&(s=v);for(s-t>S((c-r)/(w=o+1))&&A("overflow"),r+=(s-t)*w,t=s,i=0;i<b;++i)if((v=e[i])<t&&++r>c&&A("overflow"),v==t){for(d=r,h=l;!(d<(y=h<=a?u:h>=a+p?p:h-a));h+=l)T=d-y,I=l-y,P.push(_(E(y+T%I,0))),d=S(T/I);P.push(_(E(d,0))),a=D(r,w,o==n),r=0,++o}++r,++t}return P.join("")}(e):e})}var T=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},P=[],R=[],C="undefined"!=typeof Uint8Array?Uint8Array:Array,O=!1;function M(){O=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)P[t]=e[t],R[e.charCodeAt(t)]=t;R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63}function L(e){return P[e>>18&63]+P[e>>12&63]+P[e>>6&63]+P[63&e]}function k(e,t,r){for(var o,n=[],a=t;a<r;a+=3)o=(e[a]<<16)+(e[a+1]<<8)+e[a+2],n.push(L(o));return n.join("")}function F(e){var t;O||M();for(var r=e.length,o=r%3,n="",a=[],i=0,s=r-o;i<s;i+=16383)a.push(k(e,i,i+16383>s?s:i+16383));return 1===o?(t=e[r-1],n+=P[t>>2],n+=P[t<<4&63],n+="=="):2===o&&(t=(e[r-2]<<8)+e[r-1],n+=P[t>>10],n+=P[t>>4&63],n+=P[t<<2&63],n+="="),a.push(n),a.join("")}function x(e,t,r,o,n){var a,i,s=8*n-o-1,c=(1<<s)-1,l=c>>1,u=-7,p=r?n-1:0,d=r?-1:1,h=e[t+p];for(p+=d,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+p],p+=d,u-=8);for(i=a&(1<<-u)-1,a>>=-u,u+=o;u>0;i=256*i+e[t+p],p+=d,u-=8);if(0===a)a=1-l;else{if(a===c)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,o),a-=l}return(h?-1:1)*i*Math.pow(2,a-o)}function N(e,t,r,o,n,a){var i,s,c,l=8*a-n-1,u=(1<<l)-1,p=u>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:a-1,f=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(i++,c/=2),i+p>=u?(s=0,i=u):i+p>=1?(s=(t*c-1)*Math.pow(2,n),i+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,n),i=0));n>=8;e[r+h]=255&s,h+=f,s/=256,n-=8);for(i=i<<n|s,l+=n;l>0;e[r+h]=255&i,h+=f,i/=256,l-=8);e[r+h-f]|=128*g}var G={}.toString,U=Array.isArray||function(e){return"[object Array]"==G.call(e)};function B(){return z.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function j(e,t){if(B()<t)throw new RangeError("Invalid typed array length");return z.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=z.prototype:(null===e&&(e=new z(t)),e.length=t),e}function z(e,t,r){if(!(z.TYPED_ARRAY_SUPPORT||this instanceof z))return new z(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return V(this,e)}return q(this,e,t,r)}function q(e,t,r,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,o){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,r):new Uint8Array(t,r,o);z.TYPED_ARRAY_SUPPORT?(e=t).__proto__=z.prototype:e=H(e,t);return e}(e,t,r,o):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!z.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|X(t,r),n=(e=j(e,o)).write(t,r);n!==o&&(e=e.slice(0,n));return e}(e,t,r):function(e,t){if(Z(t)){var r=0|W(t.length);return 0===(e=j(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?j(e,0):H(e,t);if("Buffer"===t.type&&U(t.data))return H(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Y(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function V(e,t){if(Y(t),e=j(e,t<0?0:0|W(t)),!z.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function H(e,t){var r=t.length<0?0:0|W(t.length);e=j(e,r);for(var o=0;o<r;o+=1)e[o]=255&t[o];return e}function W(e){if(e>=B())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B().toString(16)+" bytes");return 0|e}function Z(e){return!(null==e||!e._isBuffer)}function X(e,t){if(Z(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Se(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _e(e).length;default:if(o)return Se(e).length;t=(""+t).toLowerCase(),o=!0}}function K(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function J(e,t,r,o,n){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=z.from(t,o)),Z(t))return 0===t.length?-1:$(e,t,r,o,n);if("number"==typeof t)return t&=255,z.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):$(e,[t],r,o,n);throw new TypeError("val must be string, number or Buffer")}function $(e,t,r,o,n){var a,i=1,s=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,r/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(n){var u=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*i}else-1!==u&&(a-=a-u),u=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){for(var p=!0,d=0;d<c;d++)if(l(e,a+d)!==l(t,d)){p=!1;break}if(p)return a}return-1}function Q(e,t,r,o){r=Number(r)||0;var n=e.length-r;o?(o=Number(o))>n&&(o=n):o=n;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");o>a/2&&(o=a/2);for(var i=0;i<o;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function ee(e,t,r,o){return Ae(Se(t,e.length-r),e,r,o)}function te(e,t,r,o){return Ae(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,o)}function re(e,t,r,o){return te(e,t,r,o)}function oe(e,t,r,o){return Ae(_e(t),e,r,o)}function ne(e,t,r,o){return Ae(function(e,t){for(var r,o,n,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),o=r>>8,n=r%256,a.push(n),a.push(o);return a}(t,e.length-r),e,r,o)}function ae(e,t,r){return 0===t&&r===e.length?F(e):F(e.slice(t,r))}function ie(e,t,r){r=Math.min(e.length,r);for(var o=[],n=t;n<r;){var a,i,s,c,l=e[n],u=null,p=l>239?4:l>223?3:l>191?2:1;if(n+p<=r)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[n+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[n+1],i=e[n+2],128==(192&a)&&128==(192&i)&&(c=(15&l)<<12|(63&a)<<6|63&i)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[n+1],i=e[n+2],s=e[n+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),n+=p}return function(e){var t=e.length;if(t<=se)return String.fromCharCode.apply(String,e);var r="",o=0;for(;o<t;)r+=String.fromCharCode.apply(String,e.slice(o,o+=se));return r}(o)}z.TYPED_ARRAY_SUPPORT=void 0===T.TYPED_ARRAY_SUPPORT||T.TYPED_ARRAY_SUPPORT,z.poolSize=8192,z._augment=function(e){return e.__proto__=z.prototype,e},z.from=function(e,t,r){return q(null,e,t,r)},z.TYPED_ARRAY_SUPPORT&&(z.prototype.__proto__=Uint8Array.prototype,z.__proto__=Uint8Array),z.alloc=function(e,t,r){return function(e,t,r,o){return Y(t),t<=0?j(e,t):void 0!==r?"string"==typeof o?j(e,t).fill(r,o):j(e,t).fill(r):j(e,t)}(null,e,t,r)},z.allocUnsafe=function(e){return V(null,e)},z.allocUnsafeSlow=function(e){return V(null,e)},z.isBuffer=function(e){return null!=e&&(!!e._isBuffer||Ee(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Ee(e.slice(0,0))}(e))},z.compare=function(e,t){if(!Z(e)||!Z(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,o=t.length,n=0,a=Math.min(r,o);n<a;++n)if(e[n]!==t[n]){r=e[n],o=t[n];break}return r<o?-1:o<r?1:0},z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},z.concat=function(e,t){if(!U(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return z.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var o=z.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var a=e[r];if(!Z(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,n),n+=a.length}return o},z.byteLength=X,z.prototype._isBuffer=!0,z.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)K(this,t,t+1);return this},z.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)K(this,t,t+3),K(this,t+1,t+2);return this},z.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)K(this,t,t+7),K(this,t+1,t+6),K(this,t+2,t+5),K(this,t+3,t+4);return this},z.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?ie(this,0,e):function(e,t,r){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return ue(this,t,r);case"utf8":case"utf-8":return ie(this,t,r);case"ascii":return ce(this,t,r);case"latin1":case"binary":return le(this,t,r);case"base64":return ae(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,t,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}.apply(this,arguments)},z.prototype.equals=function(e){if(!Z(e))throw new TypeError("Argument must be a Buffer");return this===e||0===z.compare(this,e)},z.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},z.prototype.compare=function(e,t,r,o,n){if(!Z(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===n&&(n=this.length),t<0||r>e.length||o<0||n>this.length)throw new RangeError("out of range index");if(o>=n&&t>=r)return 0;if(o>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,o>>>=0,n>>>=0,this===e)return 0;for(var a=n-o,i=r-t,s=Math.min(a,i),c=this.slice(o,n),l=e.slice(t,r),u=0;u<s;++u)if(c[u]!==l[u]){a=c[u],i=l[u];break}return a<i?-1:i<a?1:0},z.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},z.prototype.indexOf=function(e,t,r){return J(this,e,t,r,!0)},z.prototype.lastIndexOf=function(e,t,r){return J(this,e,t,r,!1)},z.prototype.write=function(e,t,r,o){if(void 0===t)o="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)o=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===o&&(o="utf8")):(o=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var a=!1;;)switch(o){case"hex":return Q(this,e,t,r);case"utf8":case"utf-8":return ee(this,e,t,r);case"ascii":return te(this,e,t,r);case"latin1":case"binary":return re(this,e,t,r);case"base64":return oe(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}},z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function ce(e,t,r){var o="";r=Math.min(e.length,r);for(var n=t;n<r;++n)o+=String.fromCharCode(127&e[n]);return o}function le(e,t,r){var o="";r=Math.min(e.length,r);for(var n=t;n<r;++n)o+=String.fromCharCode(e[n]);return o}function ue(e,t,r){var o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var n="",a=t;a<r;++a)n+=we(e[a]);return n}function pe(e,t,r){for(var o=e.slice(t,r),n="",a=0;a<o.length;a+=2)n+=String.fromCharCode(o[a]+256*o[a+1]);return n}function de(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function he(e,t,r,o,n,a){if(!Z(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function fe(e,t,r,o){t<0&&(t=65535+t+1);for(var n=0,a=Math.min(e.length-r,2);n<a;++n)e[r+n]=(t&255<<8*(o?n:1-n))>>>8*(o?n:1-n)}function ge(e,t,r,o){t<0&&(t=4294967295+t+1);for(var n=0,a=Math.min(e.length-r,4);n<a;++n)e[r+n]=t>>>8*(o?n:3-n)&255}function me(e,t,r,o,n,a){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ye(e,t,r,o,n){return n||me(e,0,r,4),N(e,t,r,o,23,4),r+4}function ve(e,t,r,o,n){return n||me(e,0,r,8),N(e,t,r,o,52,8),r+8}z.prototype.slice=function(e,t){var r,o=this.length;if(e=~~e,t=void 0===t?o:~~t,e<0?(e+=o)<0&&(e=0):e>o&&(e=o),t<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),z.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=z.prototype;else{var n=t-e;r=new z(n,void 0);for(var a=0;a<n;++a)r[a]=this[a+e]}return r},z.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||de(e,t,this.length);for(var o=this[e],n=1,a=0;++a<t&&(n*=256);)o+=this[e+a]*n;return o},z.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||de(e,t,this.length);for(var o=this[e+--t],n=1;t>0&&(n*=256);)o+=this[e+--t]*n;return o},z.prototype.readUInt8=function(e,t){return t||de(e,1,this.length),this[e]},z.prototype.readUInt16LE=function(e,t){return t||de(e,2,this.length),this[e]|this[e+1]<<8},z.prototype.readUInt16BE=function(e,t){return t||de(e,2,this.length),this[e]<<8|this[e+1]},z.prototype.readUInt32LE=function(e,t){return t||de(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},z.prototype.readUInt32BE=function(e,t){return t||de(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},z.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||de(e,t,this.length);for(var o=this[e],n=1,a=0;++a<t&&(n*=256);)o+=this[e+a]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},z.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||de(e,t,this.length);for(var o=t,n=1,a=this[e+--o];o>0&&(n*=256);)a+=this[e+--o]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},z.prototype.readInt8=function(e,t){return t||de(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},z.prototype.readInt16LE=function(e,t){t||de(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},z.prototype.readInt16BE=function(e,t){t||de(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},z.prototype.readInt32LE=function(e,t){return t||de(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},z.prototype.readInt32BE=function(e,t){return t||de(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},z.prototype.readFloatLE=function(e,t){return t||de(e,4,this.length),x(this,e,!0,23,4)},z.prototype.readFloatBE=function(e,t){return t||de(e,4,this.length),x(this,e,!1,23,4)},z.prototype.readDoubleLE=function(e,t){return t||de(e,8,this.length),x(this,e,!0,52,8)},z.prototype.readDoubleBE=function(e,t){return t||de(e,8,this.length),x(this,e,!1,52,8)},z.prototype.writeUIntLE=function(e,t,r,o){(e=+e,t|=0,r|=0,o)||he(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,a=0;for(this[t]=255&e;++a<r&&(n*=256);)this[t+a]=e/n&255;return t+r},z.prototype.writeUIntBE=function(e,t,r,o){(e=+e,t|=0,r|=0,o)||he(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+r},z.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,1,255,0),z.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},z.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,2,65535,0),z.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):fe(this,e,t,!0),t+2},z.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,2,65535,0),z.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):fe(this,e,t,!1),t+2},z.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,4,4294967295,0),z.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):ge(this,e,t,!0),t+4},z.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,4,4294967295,0),z.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ge(this,e,t,!1),t+4},z.prototype.writeIntLE=function(e,t,r,o){if(e=+e,t|=0,!o){var n=Math.pow(2,8*r-1);he(this,e,t,r,n-1,-n)}var a=0,i=1,s=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},z.prototype.writeIntBE=function(e,t,r,o){if(e=+e,t|=0,!o){var n=Math.pow(2,8*r-1);he(this,e,t,r,n-1,-n)}var a=r-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},z.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,1,127,-128),z.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},z.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,2,32767,-32768),z.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):fe(this,e,t,!0),t+2},z.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,2,32767,-32768),z.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):fe(this,e,t,!1),t+2},z.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,4,2147483647,-2147483648),z.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):ge(this,e,t,!0),t+4},z.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||he(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),z.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ge(this,e,t,!1),t+4},z.prototype.writeFloatLE=function(e,t,r){return ye(this,e,t,!0,r)},z.prototype.writeFloatBE=function(e,t,r){return ye(this,e,t,!1,r)},z.prototype.writeDoubleLE=function(e,t,r){return ve(this,e,t,!0,r)},z.prototype.writeDoubleBE=function(e,t,r){return ve(this,e,t,!1,r)},z.prototype.copy=function(e,t,r,o){if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var n,a=o-r;if(this===e&&r<t&&t<o)for(n=a-1;n>=0;--n)e[n+t]=this[n+r];else if(a<1e3||!z.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},z.prototype.fill=function(e,t,r,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!z.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var i=Z(e)?e:Se(new z(e,o).toString()),s=i.length;for(a=0;a<r-t;++a)this[a+t]=i[a%s]}return this};var be=/[^+\/0-9A-Za-z-_]/g;function we(e){return e<16?"0"+e.toString(16):e.toString(16)}function Se(e,t){var r;t=t||1/0;for(var o=e.length,n=null,a=[],i=0;i<o;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===o){(t-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function _e(e){return function(e){var t,r,o,n,a,i;O||M();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,i=new C(3*s/4-a),o=a>0?s-4:s;var c=0;for(t=0,r=0;t<o;t+=4,r+=3)n=R[e.charCodeAt(t)]<<18|R[e.charCodeAt(t+1)]<<12|R[e.charCodeAt(t+2)]<<6|R[e.charCodeAt(t+3)],i[c++]=n>>16&255,i[c++]=n>>8&255,i[c++]=255&n;return 2===a?(n=R[e.charCodeAt(t)]<<2|R[e.charCodeAt(t+1)]>>4,i[c++]=255&n):1===a&&(n=R[e.charCodeAt(t)]<<10|R[e.charCodeAt(t+1)]<<4|R[e.charCodeAt(t+2)]>>2,i[c++]=n>>8&255,i[c++]=255&n),i}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(be,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Ae(e,t,r,o){for(var n=0;n<o&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function Ee(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}T.setTimeout,T.clearTimeout;var De=T.performance||{};De.now||De.mozNow||De.msNow||De.oNow||De.webkitNow;function Ie(e){return null===e}function Te(e){return"string"==typeof e}function Pe(e){return"object"==typeof e&&null!==e}function Re(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ce=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Oe(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function Me(e,t){if(e.map)return e.map(t);for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],o));return r}var Le=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function ke(e,t,r,o){t=t||"&",r=r||"=";var n={};if("string"!=typeof e||0===e.length)return n;var a=/\+/g;e=e.split(t);var i=1e3;o&&"number"==typeof o.maxKeys&&(i=o.maxKeys);var s=e.length;i>0&&s>i&&(s=i);for(var c=0;c<s;++c){var l,u,p,d,h=e[c].replace(a,"%20"),f=h.indexOf(r);f>=0?(l=h.substr(0,f),u=h.substr(f+1)):(l=h,u=""),p=decodeURIComponent(l),d=decodeURIComponent(u),Re(n,p)?Ce(n[p])?n[p].push(d):n[p]=[n[p],d]:n[p]=d}return n}function Fe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xe=/^([a-z0-9.+-]+:)/i,Ne=/:[0-9]*$/,Ge=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ue=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Be=["'"].concat(Ue),je=["%","/","?",";","#"].concat(Be),ze=["/","?","#"],qe=255,Ye=/^[+a-z0-9A-Z_-]{0,63}$/,Ve=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,He={javascript:!0,"javascript:":!0},We={javascript:!0,"javascript:":!0},Ze={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Xe(e,t,r){if(e&&Pe(e)&&e instanceof Fe)return e;var o=new Fe;return o.parse(e,t,r),o}function Ke(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",o=e.pathname||"",n=e.hash||"",a=!1,i="";e.host?a=t+e.host:e.hostname&&(a=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(a+=":"+e.port)),e.query&&Pe(e.query)&&Object.keys(e.query).length&&(i=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Me(Le(e),function(o){var n=encodeURIComponent(Oe(o))+r;return Ce(e[o])?Me(e[o],function(e){return n+encodeURIComponent(Oe(e))}).join(t):n+encodeURIComponent(Oe(e[o]))}).join(t):o?encodeURIComponent(Oe(o))+r+encodeURIComponent(Oe(e)):""}(e.query));var s=e.search||i&&"?"+i||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||Ze[r])&&!1!==a?(a="//"+(a||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r+a+(o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n}function Je(e){var t=e.host,r=Ne.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}Fe.prototype.parse=function(e,t,r){return function(e,t,r,o){if(!Te(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),a=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(a);i[0]=i[0].replace(/\\/g,"/");var s=t=i.join(a);if(s=s.trim(),!o&&1===t.split("#").length){var c=Ge.exec(s);if(c)return e.path=s,e.href=s,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?ke(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var l,u,p,d,h=xe.exec(s);if(h){var f=(h=h[0]).toLowerCase();e.protocol=f,s=s.substr(h.length)}if(o||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===s.substr(0,2);!g||h&&We[h]||(s=s.substr(2),e.slashes=!0)}if(!We[h]&&(g||h&&!Ze[h])){var m,y,v=-1;for(l=0;l<ze.length;l++)-1!==(u=s.indexOf(ze[l]))&&(-1===v||u<v)&&(v=u);for(-1!==(y=-1===v?s.lastIndexOf("@"):s.lastIndexOf("@",v))&&(m=s.slice(0,y),s=s.slice(y+1),e.auth=decodeURIComponent(m)),v=-1,l=0;l<je.length;l++)-1!==(u=s.indexOf(je[l]))&&(-1===v||u<v)&&(v=u);-1===v&&(v=s.length),e.host=s.slice(0,v),s=s.slice(v),Je(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var w=e.hostname.split(/\./);for(l=0,p=w.length;l<p;l++){var S=w[l];if(S&&!S.match(Ye)){for(var _="",A=0,E=S.length;A<E;A++)S.charCodeAt(A)>127?_+="x":_+=S[A];if(!_.match(Ye)){var D=w.slice(0,l),T=w.slice(l+1),P=S.match(Ve);P&&(D.push(P[1]),T.unshift(P[2])),T.length&&(s="/"+T.join(".")+s),e.hostname=D.join(".");break}}}}e.hostname.length>qe?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=I(e.hostname)),d=e.port?":"+e.port:"";var R=e.hostname||"";e.host=R+d,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!He[f])for(l=0,p=Be.length;l<p;l++){var C=Be[l];if(-1!==s.indexOf(C)){var O=encodeURIComponent(C);O===C&&(O=escape(C)),s=s.split(C).join(O)}}var M=s.indexOf("#");-1!==M&&(e.hash=s.substr(M),s=s.slice(0,M));var L=s.indexOf("?");-1!==L?(e.search=s.substr(L),e.query=s.substr(L+1),r&&(e.query=ke(e.query)),s=s.slice(0,L)):r&&(e.search="",e.query={});s&&(e.pathname=s);Ze[f]&&e.hostname&&!e.pathname&&(e.pathname="/");if(e.pathname||e.search){d=e.pathname||"";var k=e.search||"";e.path=d+k}return e.href=Ke(e),e}(this,e,t,r)},Fe.prototype.format=function(){return Ke(this)},Fe.prototype.resolve=function(e){return this.resolveObject(Xe(e,!1,!0)).format()},Fe.prototype.resolveObject=function(e){if(Te(e)){var t=new Fe;t.parse(e,!1,!0),e=t}for(var r,o=new Fe,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];o[i]=this[i]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(o[l]=e[l])}return Ze[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!Ze[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var d=u[p];o[d]=e[d]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||We[e.protocol])o.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),o.pathname=r.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var h=o.pathname||"",f=o.search||"";o.path=h+f}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var g,m=o.pathname&&"/"===o.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=y||m||o.host&&e.pathname,b=v,w=o.pathname&&o.pathname.split("/")||[],S=o.protocol&&!Ze[o.protocol];if(r=e.pathname&&e.pathname.split("/")||[],S&&(o.hostname="",o.port=null,o.host&&(""===w[0]?w[0]=o.host:w.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),v=v&&(""===r[0]||""===w[0])),y)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,w=r;else if(r.length)w||(w=[]),w.pop(),w=w.concat(r),o.search=e.search,o.query=e.query;else if(!function(e){return null==e}(e.search))return S&&(o.hostname=o.host=w.shift(),(g=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=g.shift(),o.host=o.hostname=g.shift())),o.search=e.search,o.query=e.query,Ie(o.pathname)&&Ie(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o;if(!w.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var _=w.slice(-1)[0],A=(o.host||e.host||w.length>1)&&("."===_||".."===_)||""===_,E=0,D=w.length;D>=0;D--)"."===(_=w[D])?w.splice(D,1):".."===_?(w.splice(D,1),E++):E&&(w.splice(D,1),E--);if(!v&&!b)for(;E--;E)w.unshift("..");!v||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var I=""===w[0]||w[0]&&"/"===w[0].charAt(0);return S&&(o.hostname=o.host=I?"":w.length?w.shift():"",(g=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=g.shift(),o.host=o.hostname=g.shift())),(v=v||o.host&&w.length)&&!I&&w.unshift(""),w.length?o.pathname=w.join("/"):(o.pathname=null,o.path=null),Ie(o.pathname)&&Ie(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},Fe.prototype.parseHost=function(){return Je(this)};var $e=function(e){var t=this.config=e.config;this.store=e.store,this.controller=e.controller,this.dataManager=e.dataManager,this.history=window.history,(this.silent=!t.router||!t.router.enabled)||(window.onhashchange=this.hashChanged.bind(this))};$e.prototype.activeTopicConfig=function(){var e,t=this.store.state.activeTopic;return t&&(e=this.config.topics.filter(function(e){return e.key===t})[0]),e||{}},$e.prototype.activeParcelLayer=function(){return this.config.map?this.activeTopicConfig().parcels||this.config.map.defaultBasemap:this.activeTopicConfig().parcels},$e.prototype.makeHash=function(e,t){if(!e||0===e.length)return null;var r="#/"+encodeURIComponent(e);return t&&(r+="/"+t),r},$e.prototype.getAddressFromState=function(){var e=this.store.state.geocode.data||{},t=e.properties||{};return e.street_address?e.street_address:t.street_address?t.street_address:void 0},$e.prototype.hashChanged=function(){var e=window.location,t=e.hash,r=(Xe(e.href).query,t.split("/").splice(1)),o=r[0];if(!o)return this.routeToModal(""),void this.dataManager.resetGeocode();var n,a=decodeURIComponent(o);(this.config.modals||[]).includes(r[0])?this.routeToModal(r[0]):(r.length>1&&(n=decodeURIComponent(r[1])),this.store.state.lastSearchMethod&&this.store.commit("setLastSearchMethod","geocode"),this.routeToAddress(a),(this.store.state.activeTopic||""===this.store.state.activeTopic)&&this.config.topics.length&&this.routeToTopic(n))},$e.prototype.routeToAddress=function(e,t){if(e){var r=this.getAddressFromState();r&&e===r||this.dataManager.geocode(e,t)}},$e.prototype.routeToOwner=function(e,t){e&&this.dataManager.geocode(e,t)},$e.prototype.configForBasemap=function(e){return this.config.map.basemaps[e]},$e.prototype.routeToModal=function(e){this.store.commit("setDidToggleModal",e)},$e.prototype.routeToTopic=function(e,t){var r=this.store.state.activeTopic;if((!r||r!==e)&&(this.store.commit("setActiveTopic",e),this.store.commit("setActiveParcelLayer",this.activeParcelLayer()),this.store.state.map)){var o=this.store.state.map.basemap||null,n=this.config.topics.filter(function(t){return t.key===e})[0]||{},a=n.parcels,i=n.imagery;o!==a&&this.store.commit("setBasemap",n.parcels),i&&(this.store.commit("setShouldShowImagery",!0),this.store.commit("setImagery",i))}if(!this.silent){var s=this.getAddressFromState(),c=this.makeHash(s,e),l=this.history.state;this.history.replaceState(l,null,c)}},$e.prototype.didGeocode=function(){var e=this.store.state.geocode.data;if(e){var t;e.street_address?t=e.street_address:e.properties.street_address&&(t=e.properties.street_address),this.config.router.returnToDefaultTopicOnGeocode&&this.store.commit("setActiveTopic",this.config.defaultTopic);var r=this.store.state.activeTopic;if(!this.silent){var o={geocode:e},n=this.makeHash(t,r);this.history.pushState(o,null,n)}}else this.silent||this.history.pushState(null,null,"#")};var Qe={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325};function et(e,t,r){if(!at(r=r||{}))throw new Error("options is invalid");var o=r.bbox,n=r.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");o&&it(o),n&&st(n);var a={type:"Feature"};return n&&(a.id=n),o&&(a.bbox=o),a.properties=t||{},a.geometry=e,a}function tt(e,t,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!nt(e[0])||!nt(e[1]))throw new Error("coordinates must contain numbers");return et({type:"Point",coordinates:e},t,r)}function rt(e,t,r){if(!e)throw new Error("coordinates is required");for(var o=0;o<e.length;o++){var n=e[o];if(n.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<n[n.length-1].length;a++){if(0===o&&0===a&&!nt(n[0][0])||!nt(n[0][1]))throw new Error("coordinates must contain numbers");if(n[n.length-1][a]!==n[0][a])throw new Error("First and last Position are not equivalent.")}}return et({type:"Polygon",coordinates:e},t,r)}function ot(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function nt(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function at(e){return!!e&&e.constructor===Object}function it(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!nt(e))throw new Error("bbox must only contain numbers")})}function st(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function ct(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function lt(e,t,r){if(!at(r=r||{}))throw new Error("options is invalid");var o=r.units,n=ct(e),a=ct(t),i=ot(a[1]-n[1]),s=ot(a[0]-n[0]),c=ot(n[1]),l=ot(a[1]),u=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(c)*Math.cos(l);return function(e,t){if(void 0===e||null===e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var r=Qe[t||"kilometers"];if(!r)throw new Error(t+" units is invalid");return e*r}(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),o)}function ut(e,t,r){if(null!==e)for(var o,n,a,i,s,c,l,u,p=0,d=0,h=e.type,f="FeatureCollection"===h,g="Feature"===h,m=f?e.features.length:1,y=0;y<m;y++){s=(u=!!(l=f?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var v=0;v<s;v++){var b=0,w=0;if(null!==(i=u?l.geometries[v]:l)){c=i.coordinates;var S=i.type;switch(p=!r||"Polygon"!==S&&"MultiPolygon"!==S?0:1,S){case null:break;case"Point":if(!1===t(c,d,y,b,w))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(o=0;o<c.length;o++){if(!1===t(c[o],d,y,b,w))return!1;d++,"MultiPoint"===S&&b++}"LineString"===S&&b++;break;case"Polygon":case"MultiLineString":for(o=0;o<c.length;o++){for(n=0;n<c[o].length-p;n++){if(!1===t(c[o][n],d,y,b,w))return!1;d++}"MultiLineString"===S&&b++,"Polygon"===S&&w++}"Polygon"===S&&b++;break;case"MultiPolygon":for(o=0;o<c.length;o++){for("MultiPolygon"===S&&(w=0),n=0;n<c[o].length;n++){for(a=0;a<c[o][n].length-p;a++){if(!1===t(c[o][n][a],d,y,b,w))return!1;d++}w++}b++}break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)if(!1===ut(i.geometries[o],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function pt(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function dt(e,t,r){var o=r;return function(e,t){var r,o,n,a,i,s,c,l,u,p,d=0,h="FeatureCollection"===e.type,f="Feature"===e.type,g=h?e.features.length:1;for(r=0;r<g;r++){for(s=h?e.features[r].geometry:f?e.geometry:e,l=h?e.features[r].properties:f?e.properties:{},u=h?e.features[r].bbox:f?e.bbox:void 0,p=h?e.features[r].id:f?e.id:void 0,i=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,n=0;n<i;n++)if(null!==(a=c?s.geometries[n]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(a,d,l,u,p))return!1;break;case"GeometryCollection":for(o=0;o<a.geometries.length;o++)if(!1===t(a.geometries[o],d,l,u,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,d,l,u,p))return!1;d++}}(e,function(e,n,a,i,s){o=0===n&&void 0===r?e:t(o,e,n,a,i,s)}),o}function ht(e){return dt(e,function(e,t){return e+function e(t){var r,o=0;switch(t.type){case"Polygon":return gt(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)o+=gt(t.coordinates[r]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)o+=e(t.geometries[r]);return o}}(t)},0)}var ft=6378137;function gt(e){var t=0;if(e&&e.length>0){t+=Math.abs(mt(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(mt(e[r]))}return t}function mt(e){var t,r,o,n,a,i,s=0,c=e.length;if(c>2){for(i=0;i<c;i++)i===c-2?(o=c-2,n=c-1,a=0):i===c-1?(o=c-1,n=0,a=1):(o=i,n=i+1,a=i+2),t=e[o],r=e[n],s+=(yt(e[a][0])-yt(t[0]))*Math.sin(yt(r[1]));s=s*ft*ft/2}return s}function yt(e){return e*Math.PI/180}var vt=function(e){this.config=e.config,this.store=e.store,this.dataManager=e.dataManager};vt.prototype.evaluateParams=function(e,t){var r={};if(!t.options.params)return r;for(var o=Object.entries(t.options.params),n=this.store.state,a=0,i=o;a<i.length;a+=1){var s=i[a],c=s[0],l=s[1],u=void 0;u="function"==typeof l?l(e,n):l,r[c]=u}return r},vt.prototype.assignFeatureIds=function(e,t,r){for(var o=[],n=0;n<e.length;n++){var a="feat-"+t+"-"+((r?r+"-":"")+n),i=e[n];try{i._featureId=a}catch(e){console.warn(e)}o.push(i)}return o},vt.prototype.didFetch=function(e,t,r,o){var n="error"===t?null:r;Array.isArray(n)&&(n=this.assignFeatureIds(n,e,o));var a={key:e,data:n},i={key:e,status:t};o&&(a.targetId=o,i.targetId=o),this.store.commit("setSourceData",a),this.store.commit("setSourceStatus",i),console.log("171111 base-client js is calling fetchData()"),this.fetchData()};var bt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fetch=function(e){console.log("geocode client fetch",e);this.store;var t,o=(t=this.config.geocoder).url(e),n=t.params;this.store.commit("setGeocodeStatus","waiting");var a=this.success.bind(this),i=this.error.bind(this);return r.get(o,{params:n}).then(a).catch(i)},t.prototype.success=function(e){var t=this.store,r=e.data;e.config.url;if(r.features&&!(r.features.length<1)){for(var o=r.features,n=(o=this.assignFeatureIds(o,"geocode"))[0],a=[],i=0,s=o.slice(1);i<s.length;i+=1){var c=s[i];n.properties.address_high?c.properties.address_high&&a.push(c):a.push(c)}return t.commit("setGeocodeData",n),t.commit("setGeocodeRelated",a),t.commit("setGeocodeStatus","success"),n}},t.prototype.error=function(e){var t=this.store;t.commit("setGeocodeStatus","error"),t.commit("setGeocodeData",null),t.commit("setGeocodeRelated",null)},t}(vt),wt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fetch=function(e){console.log("owner search client fetch",e);this.store;var t=this.config.ownerSearch,o=t.url(e),n=t.params;this.store.commit("setOwnerSearchStatus","waiting");var a=this.success.bind(this),i=this.error.bind(this);return r.get(o,{params:n}).then(a).catch(i)},t.prototype.success=function(e){console.log("owner search success",e.config.url);var t=this.store,r=e.data;e.config.url;if(r.features&&!(r.features.length<1)){var o=r.features;return o=this.assignFeatureIds(o,"owner"),t.commit("setOwnerSearchData",o),t.commit("setOwnerSearchStatus","success"),o}},t.prototype.error=function(e){console.log("owner search error",e);var t=this.store;t.commit("setOwnerSearchStatus","error"),t.commit("setOwnerSearchData",null)},t}(vt),St=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fetch=function(e,t,o,n){var a=this,i=this.evaluateParams(e,t),s=t.url,c=t.options,l=i.urlAddition;l&&(s+=encodeURIComponent(l));var u=c.success;i.urlAddition&&delete i.urlAddition,r.get(s,{params:i}).then(function(t){var r,i=t.data;u&&(i=u(i)),n&&(r=n(e)),a.dataManager.didFetchData(o,"success",i,r)},function(e){console.log("fetch json error",e),a.dataManager.didFetchData(o,"error")})},t.prototype.fetchMore=function(e,t,o,n){var a=this,i=this.evaluateParams(e,t);i.page=n+1;var s=t.url,c=t.options,l=i.urlAddition;l&&(s+=encodeURIComponent(l));var u=c.success;r.get(s,{params:i}).then(function(e){var t=e.data;u&&(t=u(t)),a.dataManager.didFetchMoreData(o,"success",t)},function(e){console.log("fetch json error",e),a.dataManager.didFetchMoreData(o,"error")})},t.prototype.fetchNearby=function(e,t,n,a){var i=this,s=this.evaluateParams(e,t),c=t.url,l=t.options,u=l.table,p=l.dateMinNum||null,d=l.dateMinType||null;console.log("dateMinType:",d);var h,f=l.dateField||null,g=l.success,m=l.distances||250,y="ST_Distance(the_geom::geography, ST_SetSRID(ST_Point("+e.geometry.coordinates[0]+","+e.geometry.coordinates[1]+"),4326)::geography)",v="*, "+y+"as distance,ST_Y(the_geom)as lat, ST_X(the_geom)as lng";if(s.q="select"+v+" from "+u+" where "+y+" < "+m,p){switch(d){case"hour":h=o.subHours;break;case"day":h=o.subDays;break;case"week":h=o.subWeeks;break;case"month":h=o.subMonths;break;case"year":h=o.subYears}s.q=s.q+" and "+f+" > '"+o.format(h(new Date,p),"YYYY-MM-DD")+"'"}r.get(c,{params:s}).then(function(t){for(var r=0,o=t.data.rows;r<o.length;r+=1){var s=o[r];s.distance=3.28084*s.distance}var c,l=t.data.rows;g&&(l=g(l)),a&&(c=a(e)),i.dataManager.didFetchData(n,"success",l,c)},function(e){console.log("fetch json error",e),i.dataManager.didFetchData(n,"error")})},t}(vt);function _t(e){var t=[];return"FeatureCollection"===e.type?pt(e,function(e){ut(e,function(r){t.push(tt(r,e.properties))})}):ut(e,function(r){t.push(tt(r,e.properties))}),function(e,t){if(!at(t=t||{}))throw new Error("options is invalid");var r=t.bbox,o=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");r&&it(r),o&&st(o);var n={type:"FeatureCollection"};return o&&(n.id=o),r&&(n.bbox=r),n.features=e,n}(t)}function At(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Et(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(function(e){return Et(e)}),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Dt(e);default:throw new Error("unknown GeoJSON type")}}function Et(e){var t={type:"Feature"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=function e(t){var r={};if(!t)return r;Object.keys(t).forEach(function(o){var n=t[o];"object"==typeof n?null===n?r[o]=null:n.length?r[o]=n.map(function(e){return e}):r[o]=e(n):r[o]=n});return r}(e.properties),t.geometry=Dt(e.geometry),t}function Dt(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map(function(e){return Dt(e)}),t):(t.coordinates=function e(t){if("object"!=typeof t[0])return t.slice();return t.map(function(t){return e(t)})}(e.coordinates),t)}function It(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===t.indexOf(o)&&(r[o]=e[o]);return r}var Tt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fetch=function(e,t,r){var o,n=t.url,i=t.options,s=i.relationship,c=i.targetGeometry,l=It(i,["relationship","targetGeometry"]),u=t.parameters;(u&&(u.sourceValue=e.properties[u.sourceField]),c)?o=c(this.store.state,a):o=e.geometry;o?this.fetchBySpatialQuery(r,n,s,o,u,l):this.dataManager.didFetchData(r,"error")},t.prototype.fetchNearby=function(e,t,o){var i=this;console.log("esri fetchNearby running, dataSource:",t,"dataSourceKey:",o);var s=t.url,c=t.options,l=c.calculateDistance,u=c.geometryServerUrl,p=c.distances,d=It(c,["calculateDistance","geometryServerUrl","distances"]);console.log("distances:",p);var h=e.geometry.coordinates,f={geometries:"["+n("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs",[h[0],h[1]]).join(", ")+"]",inSR:2272,outSR:4326,bufferSR:2272,distances:p,unionResults:!0,geodesic:!1,f:"json"};console.log("esri nearby params",f);var g=u.replace(/\/$/,"")+"/buffer";r.get(g,{params:f}).then(function(e){var t=e.data;console.log("axios in esri fetchNearby is running, data:",t),console.log("did get esri nearby buffer",t);var r=(((t.geometries||[])[0]||{}).rings||[])[0];if(r){var n=r.map(function(e){return[].concat(e).reverse()}),c=a.polygon(n);i.dataManager.store.state.map.map;i.fetchBySpatialQuery(o,s,"within",c,{},d,l?h:null)}else i.dataManager.didFetchData(o,"error")},function(e){console.log("did fetch esri nearby error",e),i.dataManager.didFetchData(o,"error")})},t.prototype.fetchBySpatialQuery=function(e,t,r,o,n,a,s){var c,l=this;void 0===n&&(n={}),void 0===a&&(a={}),c="where"===r?i.query({url:t})[r](n.targetField+"='"+n.sourceValue+"'"):i.query({url:t})[r](o),(c=(Object.keys(a)||[]).reduce(function(e,t){var r=a[t];try{e=e[t](r)}catch(e){throw new Error("esri-leaflet query task does not support option:\n                         "+t)}return e},c)).run(function(t,r,o){var n=(r||{}).features,a=t?"error":"success";if(s){var i=tt(s);n=n.map(function(e){var t,r=e.geometry.coordinates;if(Array.isArray(r[0])){var o=_t(rt([r[0]])),n=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var r,o=1/0;return pt(t,function(t,n){var a=lt(e,t);a<o&&((r=At(t)).properties.featureIndex=n,r.properties.distanceToPoint=a,o=a)}),r}(i,o);t=lt(i,n,{units:"miles"})}else{var a=tt(r);t=lt(i,a,{units:"miles"})}var s=parseInt(5280*t);return e._distance=s,e})}l.dataManager.didFetchData(e,a,n)})},t}(vt),Pt=function(e){var t=this.store=e.store,r=this.config=e.config;this.controller=e.controller,this.clients={};var o={config:r,store:t,dataManager:this};this.clients.geocode=new bt(o),this.clients.ownerSearch=new wt(o),this.clients.http=new St(o),this.clients.esri=new Tt(o)};Pt.prototype.activeTopicConfig=function(){var e,t=this.store.state.activeTopic;return t&&(e=this.config.topics.filter(function(e){return e.key===t})[0]),e||{}},Pt.prototype.fetchMoreData=function(e,t){var r=this.store.state.geocode.data,o=this.config.dataSources[e],n=(this.store.state,o.type),a={key:e,secondaryStatus:"waiting"};switch(this.store.commit("setSecondarySourceStatus",a),console.log("INCREMENT - datamanager get 100 More was clicked, type",n,"dataSource",o,"highestPageRetrieved",t),n){case"http-get":console.log("INCREMENT - http-get",e),this.clients.http.fetchMore(r,o,e,t)}},Pt.prototype.didFetchMoreData=function(e,t,r){console.log("INCREMENT - DID FETCH More DATA:",e,t,r);var o="error"===status?null:r;Array.isArray(o)&&(o=this.assignFeatureIds(o,e));var n=this.store.state.sources[e].data.page+1,a={key:e,data:o,page:n},i={key:e,secondaryStatus:t};console.log("nextPage",n,"setSourceDataOpts",a),this.store.commit("setSourceDataMore",a),this.store.commit("setSecondarySourceStatus",i)},Pt.prototype.fetchData=function(){var e=this.store.state.geocode.data,t=this.config.dataSources||{},r=Object.entries(t);e||(r=r.filter(function(e){if(e[1].dependent&&"parcel"===e[1].dependent)return!0}));for(var o=0,n=r;o<n.length;o+=1){var a=n[o],i=a[0],s=a[1],c=this.store.state,l=s.type,u=s.targets,p=void 0,d=void 0,h=void 0;if(u){if(h=u.get,d=u.getTargetId,"function"!=typeof h)throw new Error("Invalid targets getter for data source '"+i+"'");var f=(p=h(c)).map(d),g=c.sources[i].targets,m=Object.keys(g).map(String);if(!f.every(function(e){var t=String(e);return m.includes(t)})&&this.store.commit("createEmptySourceTargets",{key:i,targetIds:f}),!Array.isArray(p))throw new Error("Data source targets getter should return an array")}else p=[e];for(var y=0,v=p;y<v.length;y+=1){var b=v[y],w=void 0;if(d&&(w=d(b)),this.checkDataSourceReady(i,s,w)){var S={key:i,status:"waiting"};switch(w&&(S.targetId=w),this.store.commit("setSourceStatus",S),l){case"http-get":this.clients.http.fetch(b,s,i,d);break;case"http-get-nearby":this.clients.http.fetchNearby(b,s,i,d);break;case"esri":this.clients.esri.fetch(b,s,i);break;case"esri-nearby":this.clients.esri.fetchNearby(b,s,i);break;default:throw"Unknown data source type: "+l}}}}},Pt.prototype.didFetchData=function(e,t,r,o){var n,a="error"===t?null:r;a&&(n=a.rows),Array.isArray(a)?a=this.assignFeatureIds(a,e,o):a&&(a.rows=this.assignFeatureIds(n,e,o));var i={key:e,data:a},s={key:e,status:t};o&&(i.targetId=o,s.targetId=o),this.store.commit("setSourceData",i),this.store.commit("setSourceStatus",s),this.fetchData()},Pt.prototype.resetData=function(){for(var e=this.config.dataSources||{},t=0,r=Object.keys(e);t<r.length;t+=1){var o=r[t];e[o].targets?this.store.commit("clearSourceTargets",{key:o}):(this.store.commit("setSourceData",{key:o,data:null}),this.store.commit("setSourceStatus",{key:o,status:null}))}},Pt.prototype.resetGeocode=function(){console.log("resetGeocode is running"),this.store.commit("setGeocodeStatus",null),this.store.commit("setGeocodeData",null),this.store.commit("setGeocodeRelated",null),this.store.commit("setGeocodeInput",null),this.config.parcels&&(this.store.commit("setParcelData",{parcelLayer:"dor",multipleAllowed:!0,data:[],status:null,activeParcel:null,activeAddress:null,activeMapreg:null}),this.store.commit("setParcelData",{parcelLayer:"pwd",multipleAllowed:!1,data:null}),this.store.commit("setActiveParcelLayer","pwd")),this.config.topics.length&&(this.config.defaultTopic||null===this.config.defaultTopic?this.store.commit("setActiveTopic",this.config.defaultTopic):this.store.commit("setActiveTopic",this.config.topics[0].key)),this.store.state.map&&this.store.commit("setBasemap","pwd"),this.store.state.sources&&this.resetData()},Pt.prototype.checkDataSourcesFetched=function(e){void 0===e&&(e=[]);var t=this.store.state;return e.every(function(e){var r=e.split(".");return 2===r.length&&"dor"===r[1]?"success"===t.parcels.dor.status:"success"===r.reduce(function(e,t){return e[t]},t).status})},Pt.prototype.checkDataSourceReady=function(e,t,r){var o=t.deps,n=!1;if(this.checkDataSourcesFetched(o)){var a=this.store.state.sources[e];r&&(a=a.targets[r]),n=!a.status}return n},Pt.prototype.assignFeatureIds=function(e,t,r){if(e){for(var o=[],n=0;n<e.length;n++){var a="feat-"+t+"-"+((r?r+"-":"")+n),i=e[n];try{i._featureId=a}catch(e){console.warn(e)}o.push(i)}return o}},Pt.prototype.evaluateParams=function(e,t){for(var r={},o=Object.entries(t.options.params),n=this.store.state,a=0,i=o;a<i.length;a+=1){var s=i[a],c=s[0],l=s[1],u=void 0;u="function"==typeof l?l(e,n):l,r[c]=u}return r},Pt.prototype.geocode=function(e,t){if("address"===t){var r=this.didGeocode.bind(this);return this.clients.geocode.fetch(e).then(r)}if("owner"===t){var o=this.didOwnerSearch.bind(this);return this.clients.ownerSearch.fetch(e).then(o)}if(null==t){var n=this.didTryGeocode.bind(this);this.clients.geocode.fetch(e).then(n)}},Pt.prototype.didOwnerSearch=function(){console.log("callback from owner search is running")},Pt.prototype.didTryGeocode=function(e){if(console.log("didTryGeocode is running, feature:",e),"error"===this.store.state.geocode.status){var t=this.store.state.geocode.input,r=this.didOwnerSearch.bind(this);return this.clients.ownerSearch.fetch(t).then(r)}"success"===this.store.state.geocode.status&&(this.didGeocode(e),this.store.commit("setOwnerSearchStatus",null),this.store.commit("setOwnerSearchData",null),this.store.commit("setOwnerSearchInput",null))},Pt.prototype.didGeocode=function(e){var t,r;if(console.log("DataManager.didGeocode:",e),this.controller.router.didGeocode(),this.config.parcels){var o,n,i,s,c=this.store.state.activeParcelLayer,l=this.store.state.lastSearchMethod,u=this.config.parcels[c],p=Object.keys(this.config.parcels||{}),d=Object.keys(this.config.parcels||{});if(d.splice(d.indexOf(c),1),e)i=(r=o=e.geometry.coordinates)[0],n=r[1],s=a.latLng(n,i);else if(console.log("didGeocode - no geom"),"reverseGeocode"===l){var h=this.store.state.clickCoords;i=(t=o=[h.lng,h.lat])[0],n=t[1],s=a.latLng(n,i)}if("geocode"===l){if(e)for(var f=0,g=p;f<g.length;f+=1){var m=g[f],y=this.config.parcels[m],v=y.parcelIdInGeocoder,b=e.properties[v];b&&b.length>0?this.getParcelsById(b,m):y.getByLatLngIfIdFails&&(console.log("in if lastSearchMethod === geocode, parcelLayer:",m),this.getParcelsByLatLng(s,m))}}else if("reverseGeocode"===l)if(e)for(var w=0,S=d;w<S.length;w+=1){var _=S[w],A=this.config.parcels[_],E=A.parcelIdInGeocoder,D=e.properties[E];D&&D.length>0?this.getParcelsById(D,_):A.getByLatLngIfIdFails&&(console.log("in if lastSearchMethod === reverseGeocode, otherParcelLayer:",_,"Id failed - had to get by LatLng"),this.getParcelsByLatLng(s,_))}else{var I=u.geocodeFailAttemptParcel;if(I){var T=this.store.state.parcels[I];if(T){var P=this.config.parcels[I].geocodeField;this.store.commit("setLastSearchMethod","reverseGeocode-secondAttempt"),this.geocode(T.properties[P])}}}var R=this.activeTopicConfig();if("geocode"===l&&"error"!==this.store.state.geocode.status?R.zoomToShape||this.store.state.map&&(this.store.commit("setMapCenter",o),this.store.commit("setMapZoom",19)):R.zoomToShape&&"reverseGeocode"===l&&this.store.state.geocode.status,"reverseGeocode-secondAttempt"!==l&&this.resetData(),e){if(e.street_address)return;e.properties.street_address&&this.fetchData()}else this.fetchData()}else this.store.state.map&&(this.store.commit("setMapZoom",19),this.store.commit("setMapCenter",e.geometry.coordinates))},Pt.prototype.getParcelsById=function(e,t){var r=this.config.map.featureLayers[t+"Parcels"].url,o=this.config.parcels[t].geocodeField,n=i.query({url:r});n.where(o+" = '"+e+"'"),n.run(function(e,r,o){this.didGetParcels(e,r,o,t)}.bind(this))},Pt.prototype.getParcelsByLatLng=function(e,t,r){var o=a.latLng(e.lat,e.lng),n=this.config.map.featureLayers[t+"Parcels"].url,s=i.query({url:n});s.contains(o),s.run(function(e,o,n){this.didGetParcels(e,o,n,t,r)}.bind(this))},Pt.prototype.didGetParcels=function(e,t,r,o,n){var i=this.config.parcels[o],s=i.multipleAllowed,c=i.geocodeField,l=Object.keys(this.config.parcels||{});l.splice(l.indexOf(o),1);var u=this.store.state.lastSearchMethod,p=this.store.state.activeParcelLayer;if(e)i.clearStateOnError;else if(t){var d=t.features;if(0!==d.length){var h,f=this.sortDorParcelFeatures(d);h=s?f[0]:d[0];for(var g=0,m=f;g<m.length;g+=1){var y=m[g],v=y.geometry.coordinates;if(v.length>1){for(var b=[],w=[],S=0,_=v;S<_.length;S+=1){var A=_[S],E=rt(A);b.push(this.getDistances(A).reduce(function(e,t){return e+t})),w.push(10.7639*ht(E))}y.properties.TURF_PERIMETER=b.reduce(function(e,t){return e+t}),y.properties.TURF_AREA=w.reduce(function(e,t){return e+t})}else{var D=rt(v),I=this.getDistances(v);y.properties.TURF_PERIMETER=I.reduce(function(e,t){return e+t}),y.properties.TURF_AREA=10.7639*ht(D)}}if(this.setParcelsInState(o,s,h,f),p===o&&"reverseGeocode"===u){for(var T=this.store.state.clickCoords,P=[T.lng,T.lat],R=P[0],C=P[1],O=a.latLng(C,R),M=0,L=l;M<L.length;M+=1){var k=L[M],F=this.config.parcels[k].multipleAllowed;this.setParcelsInState(k,F,null,[]),this.getParcelsByLatLng(O,k,"noFetch")}var x=(h.properties||{})[c];x&&this.controller.router.routeToAddress(x)}else"noFetch"!==n&&"reverseGeocode-secondAttempt"!=u&&this.fetchData()}}},Pt.prototype.getDistances=function(e){for(var t=[],r=0,o=e[0];r<o.length;r+=1){var n=o[r];t.push(tt(n))}for(var a=[],i=0;i<t.length-1;i++)a[i]=lt(t[i],t[i+1],{units:"feet"});return a},Pt.prototype.setParcelsInState=function(e,t,r,o){var n;n=t?{parcelLayer:e,multipleAllowed:t,data:o,status:"success",activeParcel:r?r.id:null,activeAddress:null,activeMapreg:r?r.properties.MAPREG:null}:{parcelLayer:e,multipleAllowed:t,data:r},this.store.commit("setParcelData",n)},Pt.prototype.sortDorParcelFeatures=function(e){var t={1:1,2:3,3:2};return e.sort(function(e,t){var r=e.properties.MAPREG,o=t.properties.MAPREG;return r<o?1:r>o?-1:0}),e.sort(function(e,r){var o=t[e.properties.STATUS],n=t[r.properties.STATUS];return o<n?-1:o>n?1:0}),e};var Rt=function(e){this.store=e.store,this.config=e.config;this.history=window.history,e.controller=this;var t=this.dataManager=new Pt(e);e.dataManager=t,this.router=new $e(e)};Rt.prototype.appDidLoad=function(){this.router.hashChanged()},Rt.prototype.test=function(){console.log("controller test is firing")},Rt.prototype.getMoreRecords=function(e,t){this.dataManager.fetchMoreData(e,t)},Rt.prototype.filterInputSubmit=function(e,t,r){console.log("controller filterInputSubmit is running, value:",e,"process:",t),"mapboard"===t?this.handleSearchFormSubmit(e):this.handleConfigurableInputSubmit(e,r)},Rt.prototype.handleConfigurableInputSubmit=function(e,t){console.log("controller handleConfigurableInputSubmit is running, value:",e,"searchCategory:",t),"address"===t?this.handleSearchFormSubmit(e,t):"owner"===t&&(console.log("searchCategory is owner"),this.handleSearchFormSubmit(e,t))},Rt.prototype.handleSearchFormSubmit=function(e,t){var r=e;this.store.commit("setGeocodeStatus",null),t&&"address"!==t?"owner"===t&&this.store.commit("setOwnerSearchInput",r):this.store.commit("setGeocodeInput",r),this.store.commit("setShouldShowAddressCandidateList",!1),this.store.state.lastSearchMethod&&this.store.commit("setLastSearchMethod","geocode"),this.store.state.clickCoords&&this.store.commit("setClickCoords",null);for(var o=0,n=Object.keys(this.config.parcels||{});o<n.length;o+=1){var a=n[o],i=this.config.parcels[a].multipleAllowed,s=void 0;s=i?{parcelLayer:a,multipleAllowed:i,data:[],status:null,activeParcel:null,activeAddress:null,activeMapreg:null}:{parcelLayer:a,multipleAllowed:i,data:null},this.store.commit("setParcelData",s)}console.log("phila-vue-datafetch controller.js, handleSearchFormSubmit is about to call routeToAddress, input:",r),t&&"address"!==t?"owner"===t&&(console.log("searchCategory is owner"),this.router.routeToOwner(r,t)):this.router.routeToAddress(r,t)},Rt.prototype.handleMapClick=function(e){if(13!==e.originalEvent.keyCode){this.store.commit("setLastSearchMethod","reverseGeocode"),this.store.commit("setClickCoords",null);var t=e.latlng;this.store.commit("setClickCoords",t),this.store.commit("setGeocodeInput",null);var r=this.store.state.activeParcelLayer;this.dataManager.getParcelsByLatLng(t,r)}},Rt.prototype.handleTopicHeaderClick=function(e){this.router.routeToTopic(e);var t=document.querySelectorAll("[data-topic-key='"+e+"']"),r=1===t.length&&t[0];r&&s.nextTick(function(){r.scrollIntoView()})},Rt.prototype.goToDefaultAddress=function(e){this.router.routeToAddress(e)};var Ct={controllerMixin:function(e,t){var r=new Rt(t);e.mixin({created:function(){this.$controller=r}})},pvdStore:{createSources:function(e){return console.log("createSources is running, config:",e),Object.keys(e.dataSources||{}).reduce(function(t,r){var o;return o=e.dataSources[r].targets?{targets:{}}:{status:null,secondaryStatus:null,data:null},t[r]=o,t},{})},createParcels:function(e){return Object.keys(e.parcels||{}).reduce(function(t,r){var o;return o=e.parcels[r].multipleAllowed?{data:[],status:null,activeParcel:null,activeAddress:null,activeMapreg:null}:null,t[r]=o,t},{})},store:{state:{activeTopic:"",activeParcelLayer:"",clickCoords:null,shouldShowAddressCandidateList:!1,geocode:{status:null,data:null,input:null,related:null},ownerSearch:{status:null,data:null,input:null},lastSearchMethod:"geocode"},mutations:{setActiveParcelLayer:function(e,t){e.activeParcelLayer=t},setActiveTopic:function(e,t){e.activeTopic=t},setClickCoords:function(e,t){e.clickCoords=t},setSourceStatus:function(e,t){var r=t.key,o=t.status,n=t.targetId;n?e.sources[r].targets[n].status=o:e.sources[r].status=o},setSecondarySourceStatus:function(e,t){var r=t.key,o=t.secondaryStatus;t.targetId;e.sources[r].secondaryStatus=o},setSourceData:function(e,t){var r=t.key,o=t.data,n=t.targetId;n?e.sources[r].targets[n]&&(e.sources[r].targets[n].data=o):e.sources[r].data=o},setSourceDataMore:function(e,t){var r=t.key,o=t.data,n=t.page,a=e.sources[r].data.features.concat(o.features);e.sources[r].data.features=a,e.sources[r].data.page=n},createEmptySourceTargets:function(e,t){var r=t.key,o=t.targetIds;e.sources[r].targets=o.reduce(function(e,t){return e[t]={status:null,data:null},e},{})},clearSourceTargets:function(e,t){var r=t.key;e.sources[r].targets={}},setMapCenter:function(e,t){e.map.center=t},setMapZoom:function(e,t){e.map.zoom=t},setParcelData:function(e,t){var r=t||{},o=r.parcelLayer,n=r.data,a=r.multipleAllowed,i=r.status,s=r.activeParcel,c=r.activeAddress,l=r.activeMapreg;a?(e.parcels[o].data=n,e.parcels[o].status=i,e.parcels[o].activeParcel=s,e.parcels[o].activeAddress=c,e.parcels[o].activeMapreg=l):e.parcels[o]=n},setLastSearchMethod:function(e,t){e.lastSearchMethod=t},setGeocodeStatus:function(e,t){e.geocode.status=t},setGeocodeData:function(e,t){e.geocode.data=t},setGeocodeRelated:function(e,t){e.geocode.related=t},setGeocodeInput:function(e,t){e.geocode.input=t},setOwnerSearchStatus:function(e,t){e.ownerSearch.status=t},setOwnerSearchData:function(e,t){e.ownerSearch.data=t},setOwnerSearchInput:function(e,t){e.ownerSearch.input=t},setBasemap:function(e,t){e.map.basemap=t},setImagery:function(e,t){e.map.imagery=t},setShouldShowImagery:function(e,t){e.map.shouldShowImagery=t},setShouldShowAddressCandidateList:function(e,t){e.shouldShowAddressCandidateList=t}}}}};t.default=Ct,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,r(10))},573:function(e,t,r){var o={"./en-SG":195,"./en-SG.js":195,"./en-au":194,"./en-au.js":194,"./en-ca":193,"./en-ca.js":193,"./en-gb":192,"./en-gb.js":192,"./en-ie":191,"./en-ie.js":191,"./en-il":190,"./en-il.js":190,"./en-nz":189,"./en-nz.js":189};function n(e){var t=a(e);return r(t)}function a(e){var t=o[e];if(!(t+1)){var r=new Error('Cannot find module "'+e+'".');throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=573},595:function(e,t,r){(e.exports=r(44)(!1)).push([e.i,".greeting > h2 {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.greeting > .callout {\r\n  border-color: #58c04d;\r\n  background: #fff;\r\n  /*margin: 0 0 1rem 0;*/\r\n  padding: 1rem;\r\n}\r\n\r\n.greeting > .callout > ul {\r\n  margin: 0 0 0 1.42857rem;\r\n  padding: 0 0 0 1.42857rem;\r\n}\r\n\r\n#application .site-header, #application .app-footer {\r\n\tbackground: #2176d2;\r\n}\r\n\r\n#application .site-header .page-title-container h1 {\r\n\tfont-size: 2.14286rem;\r\n}\r\n\r\n/*this fixes an issue with the topic panel scrolling over the footer padding*/\r\n#application .app-footer {\r\n\tposition: relative;\r\n}\r\n\r\n/*small*/\r\n@media screen and (max-width: 39.9375em) {\r\n\t.logo {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.page-title-container {\r\n\t\tfloat: right;\r\n\t}\r\n}\r\n",""])},596:function(e,t,r){var o=r(595);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(43)(o,n);o.locals&&(e.exports=o.locals)},597:function(e,t,r){e.exports=r.p+"index.html"},598:function(e,t,r){r(597),r(596),e.exports=r(216)}});
//# sourceMappingURL=app.js.map